{"version":3,"sources":["pages/modelDescriptions.js","AppHeader.js","components/ResetButton.js","inputs/NumberInput.js","inputs/RadioInput.js","inputs/CheckboxInput.js","styles/temp-variables.js","inputs/SplitSlider.js","inputs/TickedSlider.js","inputs/GenericInput.js","components/InputParametersCard.js","components/Spinner.js","components/SelectInput.js","components/EmptyPlaceholder.js","components/SimulationStatsTable.js","model/constants.js","components/SimulationResultsHistogram.js","components/SimulationVisualization.js","components/SaveButton.js","components/RunButton.js","components/LoadingButton.js","hooks/useAsync.js","model/rcvModelData.js","model/rcvTypesToVisualize.js","SimulationInformation.js","model/electionData.js","model/voterEnsembleData.js","model/simulationEnsembleData.js","hooks/useLocalStorage.js","pages/EnsembleSimulationPage.js","components/LinkButton.js","images/mggg.svg","images/ac.png","images/cs.png","images/pl.png","images/bt.png","images/swoop.svg","pages/AboutPage.js","pages/routes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","pldesc","btdesc","acdesc","csdesc","AppHeader","props","Navbar","className","variant","expand","Container","fluid","Brand","as","Link","to","Toggle","Collapse","Nav","routes","map","route","i","Item","path","display","ResetButton","onClick","Button","size","NumberInput","dataid","fullWidth","handleChange","helperText","label","max","min","maxVariable","padding","step","value","widthClass","paddingClass","type","onChange","e","target","RadioInput","id","options","option","name","checked","parseInt","htmlFor","Form","Check","custom","includes","styles","primary","primaryEmph","majColor","minColor","Slider","minColorFirst","labelFormat","values","renderTrack","children","style","background","getTrackBackground","colors","variables","renderThumb","isDragged","SplitSlider","leftLabel","rightLabel","Number","val","TickedSlider","maxLabel","minLabel","ticks","_","range","marks","renderMark","GenericInput","param","formData","setFormData","formInputs","transformFunction","updateTransform","arg","formDataCopy","CheckboxInput","console","warn","InputParametersCard","formTitle","resetData","Card","Row","Body","noGutters","React","memo","Spinner","height","width","marginTop","role","SelectInput","title","setValue","Group","controlId","Label","Control","opt","EmptyPlaceholder","KeyValueTable","kv","Object","keys","length","Table","striped","borderless","entries","k","v","SimulationStatsTable","data","electionTypes","maxSeats","defaultModelValue","useState","selectedModel","setSelectedModel","filteredData","flatten","filter","modelType","stats","isEmpty","Min","Max","Mode","modeFast","Mean","mean","toFixed","standardDeviation","statsMarginalized","statsDisplay","Col","sm","mmLabels","SimulationResultsHistogram","displayMajResults","dataLabels","chartData","ty","x","someChartData","every","bins","barColor","demographicVisualized","meanCandidateElected","undefined","chartHeight","parent","fontSize","containerComponent","text","chartWidth","y","textAnchor","dataPerModel","fill","fillOpacity","cornerRadius","labelComponent","constrainToVisibleArea","labels","datum","axisLabelComponent","dy","dependentAxis","tickLabelComponent","tickValues","slice","orientation","itemsPerRow","gutter","border","stroke","strokeWidth","centerTitle","symbol","strokeDasharray","SimulationVisualization","nextProps","nextState","simulationResults","this","simulationParams","seatsOpen","rcvTypeLabels","rcvTypeResults","relevantLabels","relevantTypeResults","results","Component","SaveButton","refToSave","exportComponentAsPNG","RunButton","LoadingButton","disabled","useAsync","asyncFunction","immediate","status","setStatus","error","setError","execute","useCallback","then","response","catch","useEffect","models","apiEndpoint","getModelFromDisplay","selectedModelDisplay","find","model","rcvTypesToVisualize","getPocElected","pl_poc_elected_rcv","bt_poc_elected_rcv","ac_poc_elected_rcv","cs_poc_elected_rcv","SimulationInformation","appRef","combineFormData","apiURL","process","getApiEndpoint","relevantParams","formObject","modelDataid","pick","key","keySplitFromType","split","hasModelType","Boolean","filterDataByModelTypes","a","axios","get","params","paramsSerializer","qs","stringify","arrayFormat","seats_open","electionParams","initialValue","electionInputs","info","voterParams","voterInputs","modelTypeEnum","freeze","pl","bt","ac","cs","simulationInputs","newValue","intValue","prevValues","item","push","useLocalStorage","stateObjectName","storedState","window","localStorage","getItem","isNull","parsedStoredState","JSON","parse","validStateObjectKeys","storedStateKeys","isEqual","removeItem","log","storedValue","setStoredValue","valueToStore","Function","setItem","SimulationPage","useRef","initialElectionState","reduce","accum","p","electionState","setElectionState","initialVoterState","voterState","setVoterState","initialSimulationState","simulationState","setSimulationState","ref","lg","withRouter","_defs","_g","history","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMggg","_ref","svgRef","titleId","xmlns","viewBox","d","points","ForwardRef","SvgSwoop","preserveAspectRatio","ContributionComponent","link","xs","href","rel","ModelCard","image","description","show","setShow","handleClose","handleShow","Img","src","Header","Modal","onHide","closeButton","Title","alt","Footer","AboutSection","ModelsSection","LearnMoreSection","AboutPage","isExact","component","EnsembleSimulationPage","App","basename","exact","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.9f5b061e.chunk.js","sourcesContent":["/* eslint-disable max-len */\nconst modelDescriptions = {\n  pldesc: `\n  The Plackett-Luce model is a classical model of statistical ranking which has already been applied to study ranked choice voting in Ireland. Let's suppose the support for Candidate A from a voting group is twice the support for Candidate B. Under the Plackett-Luce model, we take this to mean that a voter is twice as likely to put Candidate A first as to put Candidate B first. In fact, the model assumes that this trend goes all the way down the ballot. That is, if a voter has not ranked either A or B yet on their ballot, then they are still twice as likely to write down Candidate A's name than Candidate B when they get to the next rank. See Critchlow, D.E., Fligner, M.A. and Verducci, J.S., 1991. Probability models on rankings. Journal of mathematical psychology, 35(3), pp.294-318 for mathematical details. It is unrealistic to expect the support for each class of candidates to be completely uniform, so to divide up the total support among candidates of a given class, we sample from a symmetric Dirichlet distribution. The Dirichlet distribution has one parameter (called concentration) which can be used to choose between mostly even division of support (concentration >> 1), and support concentrated on just a few candidates (concentration << 1). The default concentration value of 1.0 makes every division of the support equally likely, roughly speaking. We therefore refer to this parameter asevenness of support in the Model input tab.\n  `,\n  btdesc: `\n  The paired comparison model is based on the idea that what matters in a ranking is who is preferred over whom. Suppose the support by a voting group for Candidate A is a and the support for Candidate B is b. This the model sets the probability that a voter in the group ranks Candidate A above Candidate B at a/(a+b). The probability of a full ranking is just the product of the probabilities associated with the order of each pair of candidates, with a normalizing constant so that everything sums to one. See  See Critchlow, D.E., Fligner, M.A. and Verducci, J.S., 1991. Probability models on rankings. Journal of mathematical psychology, 35(3), pp.294-318 for mathematical details. As with the Plackett-Luce model, we use a Dirichlet sampler to divide up the support among the candidates. The Dirichlet distribution has one parameter (called concentration) which can be used to choose between mostly even division of support (concentration >> 1), and support concentrated on just a few candidates (concentration << 1). The default concentration value of 1.0 makes every division of the support equally likely, roughly speaking. We therefore refer to this parameter asevenness of support in the Model input tab.\n  `,\n  acdesc: `\n  This model posits that there are two kinds of voters in each group: block voters and crossover voters. Block voters always vote for ingroup candidates first and then outgroup candidates. Crossover voters alternate between the two classes of candidates, starting with an outgroup candidate (hence the name). This only tells you the type of candidate at each position in a ballot, however, so further choices are necessary to determine the exact order. For each group of voters and group of candidates, we allow two choices: random ordering by each voter, or consistent ordering by each voter. This model has been used in previous analyses of ranked voting by the MGGG at Tufts University (cf. MGGG, Election Reform in Lowell MA, https://mggg.org/lowell or MGGG, Analysis of county commission elections in Yakima County WA, https://mggg.org/uploads/yakima.pdf)\n  `,\n  csdesc: `\n  Each voter's first choice under this model is the same as under alternating crossover, i.e. an ingroup candidate for block voters and an outgroup candidate for crossover voters. However, instead of allowing only a block ballot or alternating ballot, the types of candidates in the rest of the ballot are determined by sampling from the ballots in a decade's worth of Cambridge MA ranked choice city council elections. Once the type of candidate (ingroup or outgroup) at each rank has been chosen, random ordering or consistent ordering is applied to fill in the ballot with candidate names just as with the alternating crossover model.\n  `,\n};\n\nmodule.exports = modelDescriptions;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Navbar, Nav } from \"react-bootstrap\";\n\nfunction AppHeader(props) {\n  return (\n    <Navbar className=\"nav-header\" variant=\"dark\" expand=\"md\">\n      <Container fluid>\n        <Navbar.Brand as={Link} to={\"/\"}>\n          Modeling Representation <br className=\"d-xs-block d-sm-none\" /> with\n          Ranked Choice Voting\n        </Navbar.Brand>\n        <Navbar.Toggle />\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Nav className=\"justify-content-end\">\n            {props.routes.map((route, i) => (\n              <Nav.Item className=\"text-right\" key={route.display}>\n                <Nav.Link as={Link} to={route.path} key={i}>\n                  {route.display}\n                </Nav.Link>\n              </Nav.Item>\n            ))}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n}\n\nexport default AppHeader;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { RefreshCw } from \"react-feather\";\n\nfunction ResetButton({ onClick }) {\n  return (\n    <Button\n      onClick={onClick}\n      variant=\"light\"\n      className=\"btn mr-0 ml-1 mt-2 d-flex justify-content-center align-items-center\"\n    >\n      <RefreshCw size={18} className=\"mr-1\" />\n      Reset\n    </Button>\n  );\n}\n\nexport default ResetButton;\n","import React from \"react\";\n\nfunction NumberInput({\n  dataid,\n  fullWidth,\n  handleChange,\n  helperText,\n  label,\n  max,\n  maxVariable,\n  min,\n  padding = true,\n  step = 1,\n  value,\n}) {\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <label className=\"input-label\">{label}</label>\n      <input\n        type=\"number\"\n        onChange={(e) => handleChange(e.target.value)}\n        value={value}\n        step={step}\n        min={min}\n        max={max}\n      />\n      <span className=\"d-block input-helper-text\">{helperText}</span>\n    </div>\n  );\n}\n\nexport default NumberInput;\n","import React from \"react\";\nimport \"../styles/radioInput.scss\";\n\nfunction RadioInput({\n  dataid,\n  fullWidth,\n  handleChange,\n  id,\n  label,\n  options,\n  padding = true,\n  type,\n  value,\n}) {\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <div className=\"input-label pb-1\">{label}</div>\n      {options.map((option) => {\n        return (\n          <div key={option.id} className=\"pb-1\">\n            <input\n              type=\"radio\"\n              id={option.id}\n              name={dataid}\n              onChange={(e) => handleChange(e.target.value)}\n              value={option.value}\n              checked={option.value === parseInt(value)}\n              className=\"d-inline\"\n            />\n            <label htmlFor={option.id} className=\"radio-option-text\">\n              {option.label}\n            </label>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default RadioInput;\n","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport \"../styles/radioInput.scss\";\n\nfunction RadioInput({\n  dataid,\n  fullWidth,\n  handleChange,\n  id,\n  label,\n  options,\n  padding = true,\n  value,\n}) {\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <div className=\"input-label pb-1\">{label}</div>\n      {options.map((option) => {\n        return (\n          <div key={option.id} className=\"pb-1\">\n            <Form.Check\n              custom\n              type=\"checkbox\"\n              id={option.id}\n              name={dataid}\n              onChange={(e) => handleChange(e.target.value)}\n              value={option.value}\n              checked={value.includes(option.value)}\n              className=\"d-inline\"\n            />\n            <label htmlFor={option.id} className=\"checkbox-option-text\">\n              {option.label}\n            </label>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default RadioInput;\n","const styles = {\n  primary: \"rgb(192, 140, 51)\",\n  primaryEmph: \"rgb(220, 185, 125)\",\n  majColor: \"rgb(75, 148, 96)\",\n  minColor: \"rgb(75, 63, 114)\",\n};\n\nexport default styles;\n","import React from \"react\";\n\nimport { Range, getTrackBackground } from \"react-range\";\nimport variables from \"../styles/temp-variables.js\";\n// To include the default styles\n\nfunction Slider({\n  minColorFirst,\n  value,\n  min,\n  max,\n  step,\n  onChange,\n  labelFormat,\n}) {\n  return (\n    <Range\n      onChange={(values) => onChange(values[0])}\n      values={[value]}\n      min={min}\n      max={max}\n      step={step}\n      renderTrack={({ props, children }) => (\n        <div\n          {...props}\n          className=\"slider-track\"\n          style={{\n            ...props.style,\n            background: getTrackBackground({\n              values: [value],\n              colors: minColorFirst\n                ? [variables[\"minColor\"], variables[\"majColor\"]]\n                : [variables[\"majColor\"], variables[\"minColor\"]],\n              min: min,\n              max: max,\n            }),\n          }}\n        >\n          {children}\n        </div>\n      )}\n      renderThumb={({ props, isDragged }) => (\n        <div {...props} className=\"slider-thumb\">\n          {/* Render the tooltip when being dragged */}\n          {isDragged && <div className=\"slider-tooltip\">{labelFormat()}</div>}\n        </div>\n      )}\n    />\n  );\n}\n\nfunction SplitSlider({\n  className,\n  minColorFirst,\n  fullWidth,\n  handleChange,\n  id,\n  label,\n  leftLabel,\n  rightLabel,\n  max,\n  min,\n  padding = true,\n  step = 1,\n  value,\n}) {\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <label className=\"input-label w-75\">{label}</label>\n      <div className=\"d-flex align-items-center justify-content-between\">\n        {/* Left Value Numeric Input */}\n        <input\n          className=\"input-value\"\n          onChange={(e) => handleChange(e.target.value)}\n          type=\"number\"\n          value={value}\n          min={min}\n          max={max}\n          step={step}\n        />\n        {/* Slider */}\n        <span className=\"pl-3 pr-3 w-100\">\n          <Slider\n            minColorFirst={minColorFirst}\n            value={Number(value)}\n            min={min}\n            max={max}\n            step={step}\n            labelFormat={() => `${Number(value)}% - ${max - Number(value)}%`}\n            onChange={(val) => handleChange(val)}\n          />\n        </span>\n        {/* Right Value Numeric Input */}\n        <input\n          className=\"input-value text-right\"\n          onChange={(e) => handleChange(max - e.target.value)}\n          type=\"number\"\n          value={max - value}\n          min={min}\n          max={max}\n          step={step}\n        />\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <div className=\"text-left\">\n          <label className=\"d-block input-helper-text mr-1 mb-0\">\n            {leftLabel}\n          </label>\n        </div>\n        <div className=\"text-right\">\n          <label className=\"d-block input-helper-text ml-1  mb-0\">\n            {rightLabel}\n          </label>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SplitSlider;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport { Range, getTrackBackground } from \"react-range\";\nimport variables from \"../styles/_variables.scss\";\n\nfunction TickedSlider({\n  dataid,\n  fullWidth,\n  handleChange,\n  helperText,\n  id,\n  label,\n  max,\n  maxLabel,\n  min,\n  minLabel,\n  padding = true,\n  step = 1,\n  value,\n}) {\n  const ticks = _.range(min, max + step, step);\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <label className=\"input-label\">{label}</label>\n      <div className=\"d-flex mb-2 justify-content-between\">\n        <span className=\"input-helper-text align-self-center mr-1 text-left\">\n          {minLabel}\n        </span>\n        <span className=\"input-helper-text align-self-center ml-1 text-right\">\n          {maxLabel}\n        </span>\n      </div>\n      <Range\n        onChange={(values) => handleChange(values[0])}\n        values={[value]}\n        min={min}\n        max={max}\n        step={step}\n        marks={ticks}\n        renderTrack={({ props, children }) => (\n          <div\n            {...props}\n            className=\"slider-track\"\n            style={{\n              ...props.style,\n              background: getTrackBackground({\n                values: [value],\n                colors: [variables.primary, \"#ccc\"],\n                min: min,\n                max: max,\n              }),\n            }}\n          >\n            {children}\n          </div>\n        )}\n        renderThumb={({ props }) => <div {...props} className=\"slider-thumb\" />}\n        renderMark={({ props }) => <div {...props} className=\"ticked_mark\" />}\n      />\n    </div>\n  );\n}\n\nexport default TickedSlider;\n","import React from \"react\";\nimport NumberInput from \"./NumberInput\";\nimport RadioInput from \"./RadioInput\";\nimport CheckboxInput from \"./CheckboxInput\";\nimport Slider from \"./SplitSlider\";\nimport TickedSlider from \"./TickedSlider\";\n\nfunction GenericInput({ param, formData, setFormData, formInputs }) {\n  const handleChange = (param) => (value) => {\n    // If the parameter has a transform to apply before updating, us it;\n    // else have the transform be a noop\n    const transformFunction = param.updateTransform || ((arg) => arg);\n    const formDataCopy = { ...formData };\n    formDataCopy[param.dataid] = transformFunction(\n      value,\n      param.dataid,\n      formDataCopy\n    );\n    setFormData(formDataCopy);\n  };\n\n  switch (param.type) {\n    case \"number\":\n      return (\n        <NumberInput\n          {...param}\n          max={param.maxVariable ? formData[param.maxVariable] : param.max}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n        />\n      );\n    case \"split-slider\":\n      return (\n        <Slider\n          {...param}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n        />\n      );\n    case \"ticked-slider\":\n      return (\n        <TickedSlider\n          {...param}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n        />\n      );\n    case \"radio\":\n      return (\n        <RadioInput\n          {...param}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n          formData={formData}\n        />\n      );\n    case \"checkbox\":\n      return (\n        <CheckboxInput\n          {...param}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n          formData={formData}\n        />\n      );\n    default:\n      console.warn(`Seeing a new kind of parameter type: ${param.type}`);\n      return null;\n  }\n}\n\nexport default GenericInput;\n","import React from \"react\";\nimport { Card, Row } from \"react-bootstrap\";\nimport ResetButton from \"./ResetButton\";\n\nimport GenericInput from \"../inputs/GenericInput\";\n\nfunction InputParametersCard({\n  formTitle,\n  formData,\n  formInputs,\n  setFormData,\n  resetData,\n}) {\n  return (\n    <>\n      <div className=\"d-flex\">\n        <h1>{formTitle}</h1>\n        <ResetButton onClick={resetData} />\n      </div>\n      <Card className=\"parameter-container\">\n        <Row as={Card.Body} noGutters className=\"align-content-start\">\n          {formInputs.map((param) => {\n            return (\n              <GenericInput\n                key={param.id}\n                param={param}\n                formData={formData}\n                setFormData={setFormData}\n              />\n            );\n          })}\n        </Row>\n      </Card>\n    </>\n  );\n}\n\nexport default React.memo(InputParametersCard);\n","import React from \"react\";\n\nfunction Spinner() {\n  return (\n    <div className=\"d-flex justify-content-center align-items-center w-100 h-100\">\n      <div\n        className=\"spinner-border\"\n        style={{ height: 75, width: 75, marginTop: -75 }}\n        role=\"status\"\n      >\n        <span className=\"sr-only\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n\nexport default Spinner;\n","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\n\nfunction SelectInput({ title, options, setValue, value }) {\n  return (\n    <Form.Group controlId=\"exampleForm.SelectCustom\">\n      {title && <Form.Label>{title}</Form.Label>}\n      <Form.Control\n        as=\"select\"\n        onChange={(e) => setValue(e.target.value)}\n        custom\n        value={value}\n      >\n        {options.map((opt) => {\n          return (\n            <option key={opt} value={opt}>\n              {opt}\n            </option>\n          );\n        })}\n      </Form.Control>\n    </Form.Group>\n  );\n}\n\nexport default SelectInput;\n","import React from \"react\";\n\nfunction EmptyPlaceholder() {\n  return <p>Nothing to display here</p>;\n}\n\nexport default EmptyPlaceholder;\n","import React, { useState } from \"react\";\nimport _ from \"lodash\";\nimport { Table, Col, Row } from \"react-bootstrap\";\nimport { min, max, mean, modeFast, standardDeviation } from \"simple-statistics\";\nimport SelectInput from \"./SelectInput\";\n\nimport EmptyPlaceholder from \"./EmptyPlaceholder\";\n\nfunction KeyValueTable({ kv = {} }) {\n  return Object.keys(kv).length === 0 ? (\n    <EmptyPlaceholder />\n  ) : (\n    <Table striped borderless className=\"kv-table\">\n      <tbody>\n        {Object.entries(kv).map(([k, v]) => {\n          return (\n            <tr key={k}>\n              <td className=\"table-key\">{k}</td>\n              <td className=\"table-value\">{v}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n}\n\nfunction SimulationStatsTable({ data = [], electionTypes = [], maxSeats = 1 }) {\n  const defaultModelValue = \"All Models\";\n  const [selectedModel, setSelectedModel] = useState(defaultModelValue);\n\n  const filteredData =\n    selectedModel === defaultModelValue\n      ? _.flatten(data)\n      : _.flatten(\n          data.filter((modelType, i) => electionTypes[i] === selectedModel)\n        );\n\n  const stats = !_.isEmpty(filteredData) && {\n    Min: min(filteredData),\n    Max: max(filteredData),\n    Mode: modeFast(filteredData),\n    Mean: mean(filteredData).toFixed(2),\n    \"Standard Deviation\": standardDeviation(filteredData).toFixed(2),\n  };\n\n  const statsMarginalized = !_.isEmpty(stats) && {\n    Min: (stats.Min / maxSeats).toFixed(2),\n    Max: (stats.Max / maxSeats).toFixed(2),\n    Mode: (stats.Mode / maxSeats).toFixed(2),\n    Mean: (stats.Mean / maxSeats).toFixed(2),\n    \"Standard Deviation\": (stats[\"Standard Deviation\"] / maxSeats).toFixed(2),\n  };\n\n  // Create a Key-Value paired object to be fed to our TableComponent\n  const statsDisplay = !_.isEmpty(statsMarginalized) && {\n    Min: `${(statsMarginalized.Min * 100).toFixed(0)}% of seats (${\n      stats.Min\n    } / ${maxSeats})`,\n    Max: `${(statsMarginalized.Max * 100).toFixed(0)}% of seats (${\n      stats.Max\n    } / ${maxSeats})`,\n    Mode: `${(statsMarginalized.Mode * 100).toFixed(0)}% of seats (${\n      stats.Mode\n    } / ${maxSeats})`,\n    Mean: `${(statsMarginalized.Mean * 100).toFixed(0)}% of seats (${\n      stats.Mean\n    } / ${maxSeats})`,\n    \"Standard Deviation\": `${(\n      statsMarginalized[\"Standard Deviation\"] * 100\n    ).toFixed(0)}% (${stats[\"Standard Deviation\"]} / ${maxSeats})`,\n  };\n\n  return (\n    <Row className=\"m-0\">\n      <Col sm={12} className=\"pr-1 pl-1\">\n        <h5 className=\"stats-table-title d-flex justify-content-between align-items-center\">\n          <span className=\"literal-title\">Statistics</span>\n          {!_.isEmpty(data) && (\n            <SelectInput\n              options={[defaultModelValue, ...electionTypes]}\n              setValue={setSelectedModel}\n              value={selectedModel}\n            />\n          )}\n        </h5>\n        {_.isEmpty(data) ? (\n          <EmptyPlaceholder />\n        ) : (\n          <>\n            <KeyValueTable kv={statsDisplay} />\n          </>\n        )}\n      </Col>\n    </Row>\n  );\n}\n\nexport default React.memo(SimulationStatsTable);\n","const mmLabels = {\n  maj: \"Green\",\n  min: \"Purple\",\n};\n\nexport { mmLabels };\n","import React from \"react\";\nimport _ from \"lodash\";\nimport { mean } from \"simple-statistics\";\nimport {\n  VictoryAxis,\n  VictoryChart,\n  VictoryContainer,\n  VictoryHistogram,\n  VictoryLine,\n  VictoryLabel,\n  VictoryLegend,\n  VictoryStack,\n  VictoryTooltip,\n} from \"victory\";\nimport { mmLabels } from \"../model/constants\";\nimport variables from \"../styles/temp-variables.js\";\n\nfunction SimulationResultsHistogram({\n  displayMajResults,\n  maxSeats = 0,\n  selectedModel,\n  data = [[]],\n  dataLabels = [],\n}) {\n  // Translate the counts for each rcvModelType into data our chart can consume\n  const chartData = data.map((ty) => ty.map((val) => ({ x: val })));\n  // We render conditionally if there is some data available\n  const someChartData = !_.every(chartData, _.isEmpty);\n\n  // The number of possible bins for our results\n  const bins = _.range(0, maxSeats + 2, 1);\n  // Color of the bar changes to reflect the demographic charted\n  const barColor = displayMajResults\n    ? variables[\"majColor\"]\n    : variables[\"minColor\"];\n  //  Text-label for the demographic charted\n  const demographicVisualized = displayMajResults ? mmLabels.maj : mmLabels.min;\n  // calculate the mean if there is chartdata\n  const meanCandidateElected = !someChartData\n    ? undefined\n    : mean(_.flatten(data)) + 0.01;\n\n  const chartHeight = 350;\n  const chartWidth = 550;\n  return (\n    <VictoryChart\n      style={{ parent: { fontSize: 12 } }}\n      height={chartHeight}\n      width={chartWidth}\n      containerComponent={\n        // Height should be larger when there's data (b/c of legend)\n        // and height should be even larger when the legend will overflow onto 2 rows (i.e. #labels > 3)\n        <VictoryContainer\n          height={\n            someChartData\n              ? dataLabels.length > 3\n                ? chartHeight + 110\n                : chartHeight + 90\n              : chartHeight + 10\n          }\n        />\n      }\n    >\n      {/* Chart Title, with No Data as placeholder when there is noData */}\n      <VictoryLabel\n        text={\n          someChartData\n            ? `${demographicVisualized} Candidates Elected \\n Across ${\n                _.flatten(data).length\n              } ${selectedModel} Simulation(s) `\n            : `No Data`\n        }\n        x={chartWidth / 2}\n        y={20}\n        textAnchor=\"middle\"\n      />\n      {/* Display chartData with a stacked histogram*/}\n      <VictoryStack>\n        {!_.every(chartData, _.isEmpty) &&\n          chartData.map((dataPerModel, i) => (\n            <VictoryHistogram\n              style={{\n                data: { fill: barColor, fillOpacity: `${25 * (4 - i)}%` },\n              }}\n              key={dataLabels[i]}\n              cornerRadius={0}\n              data={dataPerModel}\n              bins={bins}\n              labelComponent={<VictoryTooltip constrainToVisibleArea />}\n              labels={({ datum }) =>\n                `${datum.x - 0.5} ${demographicVisualized} candidate${\n                  datum.x > 1 ? \"s\" : \"\"\n                } elected in \\n${datum.y} ${dataLabels[i]} Elections`\n              }\n            />\n          ))}\n      </VictoryStack>\n      {/* Y axis */}\n      <VictoryAxis\n        label={`Frequency of outcome`}\n        textAnchor=\"middle\"\n        axisLabelComponent={<VictoryLabel dy={-12} />}\n        dependentAxis\n      />\n      {/* X Axis */}\n      <VictoryAxis\n        label={`Number of ${demographicVisualized} candidates elected\\n (mean represented as dashed line)`}\n        tickLabelComponent={<VictoryLabel dy={-5} />}\n        tickValues={bins.slice(0, bins.length)}\n      />\n\n      {/* CONDITIONALLY DISPLAYED DATA */}\n      {/* Legend for all colors */}\n      {someChartData && (\n        <VictoryLegend\n          x={10}\n          y={chartHeight + 15}\n          orientation=\"horizontal\"\n          itemsPerRow={3}\n          gutter={15}\n          style={{\n            border: { stroke: \"grey\", strokeWidth: 1 },\n            title: { fontSize: 16 },\n          }}\n          centerTitle={true}\n          title=\"Bar Colors Legend\"\n          data={dataLabels.map((label, i) => ({\n            name: label,\n            symbol: {\n              fill: barColor,\n              fillOpacity: `${25 * (4 - i)}%`,\n            },\n          }))}\n        />\n      )}\n      {/* Line for Mean Outcome*/}\n      {someChartData && (\n        <VictoryLine\n          style={{\n            data: { stroke: variables[\"primaryEmph\"], strokeDasharray: \"5\" },\n          }}\n          x={() => meanCandidateElected}\n        />\n      )}\n    </VictoryChart>\n  );\n}\n\nexport default SimulationResultsHistogram;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport SimulationStatsTable from \"./SimulationStatsTable\";\nimport SimulationResultsHistogram from \"./SimulationResultsHistogram\";\nclass SimulationVisualization extends React.Component {\n  // Only re-render when the simulationResults are new or if the displayMajResults has changed\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.simulationResults !== this.props.simulationResults;\n  }\n\n  render() {\n    const {\n      selectedModel = \"\",\n      simulationParams = {},\n      simulationResults = {},\n    } = this.props;\n    const { seatsOpen, rcvTypeLabels, rcvTypeResults } = simulationResults;\n    const relevantLabels =\n      rcvTypeLabels &&\n      rcvTypeLabels.filter((label, i) => !_.isEmpty(rcvTypeResults[i]));\n    const relevantTypeResults =\n      rcvTypeResults && rcvTypeResults.filter((results) => !_.isEmpty(results));\n    return (\n      <section>\n        <SimulationResultsHistogram\n          maxSeats={seatsOpen}\n          // displayMajResults={this.state.displayMajResults}\n          displayMajResults={false}\n          data={relevantTypeResults}\n          dataLabels={relevantLabels}\n          selectedModel={selectedModel}\n        />\n        <SimulationStatsTable\n          data={relevantTypeResults}\n          electionTypes={relevantLabels}\n          maxSeats={seatsOpen}\n          simulationParams={simulationParams}\n        />\n      </section>\n    );\n  }\n}\n\nexport default SimulationVisualization;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Download } from \"react-feather\";\nimport { exportComponentAsPNG } from \"react-component-export-image\";\n\nfunction SaveButton({ refToSave }) {\n  return (\n    <div className=\"d-flex justify-content-between\">\n      <Button\n        onClick={() => {\n          exportComponentAsPNG(refToSave);\n        }}\n        className=\"d-flex justify-content-center align-items-center\"\n        size=\"sm\"\n      >\n        <Download size={16} className=\"mr-1\" />\n        Save\n      </Button>\n    </div>\n  );\n}\n\nexport default SaveButton;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Play } from \"react-feather\";\nfunction RunButton({ onClick }) {\n  return (\n    <Button\n      onClick={onClick}\n      className=\"d-flex ml-1 justify-content-center align-items-center\"\n      size=\"sm\"\n    >\n      <Play size={16} className=\"mr-1\" />\n      Run\n    </Button>\n  );\n}\n\nexport default RunButton;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Loader } from \"react-feather\";\n\nfunction LoadingButton() {\n  return (\n    <Button\n      className=\"d-flex ml-1 justify-content-center align-items-center\"\n      size=\"sm\"\n      disabled={true}\n    >\n      <Loader size={16} className=\"mr-1\" />\n      Loading...\n    </Button>\n  );\n}\n\nexport default LoadingButton;\n","import { useState, useEffect, useCallback } from \"react\";\n\n// Hook\nconst useAsync = (asyncFunction, immediate = true) => {\n  const [status, setStatus] = useState(\"idle\");\n  const [value, setValue] = useState(null);\n  const [error, setError] = useState(null);\n\n  // The execute function wraps asyncFunction and\n  // handles setting state for pending, value, and error.\n  // useCallback ensures the below useEffect is not called\n  // on every render, but only if asyncFunction changes.\n  const execute = useCallback(() => {\n    setStatus(\"pending\");\n    setValue(null);\n    setError(null);\n\n    return asyncFunction()\n      .then((response) => {\n        setValue(response);\n        setStatus(\"success\");\n      })\n      .catch((error) => {\n        setError(error);\n        setStatus(\"error\");\n      });\n  }, [asyncFunction]);\n\n  // Call execute if we want to fire it right away.\n  // Otherwise execute can be called later, such as\n  // in an onClick handler.\n  useEffect(() => {\n    if (immediate) {\n      execute();\n    }\n  }, [execute, immediate]);\n\n  return { execute, status, value, error };\n};\n\nexport default useAsync;\n","import { mmLabels } from \"./constants\";\nimport _ from \"lodash\";\n\nconst ENSEMBLE_API_ENDPOINT = \"ensemble\";\n\nconst models = [\n  {\n    id: \"plackettLuce\",\n    dataid: \"plackettLuce\",\n    display: \"Plackett-Luce\",\n    apiEndpoint: \"plackettLuce\",\n  },\n  {\n    id: \"bradleyTerry\",\n    dataid: \"bradleyTerry\",\n    display: \"Bradley-Terry\",\n    apiEndpoint: \"bradleyTerry\",\n  },\n  {\n    id: \"alternatingCrossover\",\n    dataid: \"alternatingCrossover\",\n    display: \"Alternating Crossover\",\n    apiEndpoint: \"alternatingCrossover\",\n  },\n  {\n    id: \"cambridgeSampler\",\n    dataid: \"cambridgeSampler\",\n    display: \"Cambridge Sampler\",\n    apiEndpoint: \"cambridgeSampler\",\n  },\n];\n\nconst modelParams = [\n  ////////////////////////////////\n  // PlackettLuce & BradleyTerry\n  {\n    id: `majMajAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `majMajAffinity`,\n    initialValue: 0,\n  },\n  {\n    id: `majMinAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `majMinAffinity`,\n    initialValue: 0,\n  },\n  {\n    id: `minMinAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `minMinAffinity`,\n    initialValue: 0,\n  },\n  {\n    id: `minMajAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `minMajAffinity`,\n    initialValue: 0,\n  },\n  ////////////////////////////////////////////\n  // AlternatingCrossover & CambridgeSampler\n  {\n    id: `majMajCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `majMajCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `majMinCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `majMinCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `minMinCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `minMinCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `minMajCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `minMajCandidateAgreement`,\n    initialValue: 1,\n  },\n];\n\nconst modelInputs = [\n  ////////////////////////////\n  // PlackettLuce\n  {\n    id: `majMajAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `majMajAffinity`,\n    type: \"ticked-slider\",\n    fullWidth: true,\n    step: 0.5,\n    min: -1,\n    max: 1.0,\n    label: `Among ${mmLabels.maj} voters, support for ${mmLabels.maj} candidates is...`,\n    minLabel: \"Split evenly\",\n    maxLabel: \"Leaning towards one candidate\",\n  },\n  {\n    id: `majMinAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `majMinAffinity`,\n    type: \"ticked-slider\",\n    fullWidth: true,\n    step: 0.5,\n    min: -1,\n    max: 1,\n    label: `Among ${mmLabels.maj} voters, support for ${mmLabels.min} candidates is...`,\n    minLabel: \"Split evenly\",\n    maxLabel: \"Leaning towards one candidate\",\n  },\n  {\n    id: `minMinAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `minMinAffinity`,\n    type: \"ticked-slider\",\n    fullWidth: true,\n    step: 0.5,\n    min: -1,\n    max: 1,\n    label: `Among ${mmLabels.min} voters, support for ${mmLabels.min} candidates is...`,\n    minLabel: \"Split evenly\",\n    maxLabel: \"Leaning towards one candidate\",\n  },\n  {\n    id: `minMajAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `minMajAffinity`,\n    type: \"ticked-slider\",\n    fullWidth: true,\n    step: 0.5,\n    min: -1,\n    max: 1,\n    label: `Among ${mmLabels.min} voters, support for ${mmLabels.maj} candidates is...`,\n    minLabel: \"Split evenly\",\n    maxLabel: \"Leaning towards one candidate\",\n  },\n  ////////////////////////////\n  // AlternatingCrossover\n  {\n    id: `majMajCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `majMajCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.maj} voters, does everyone tend to rank ${mmLabels.maj} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-majMajCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.maj} voters tend to rank ${mmLabels.maj} candidates the same way`,\n      },\n      {\n        id: \"random-majMajCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.maj} voters tend to rank ${mmLabels.maj} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `majMinCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `majMinCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.maj} voters, does everyone tend to rank ${mmLabels.min} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-majMinCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.maj} voters tend to rank ${mmLabels.min} candidates the same way`,\n      },\n      {\n        id: \"random-majMinCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.maj} voters tend to rank ${mmLabels.min} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `minMajCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `minMajCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.min} voters, does everyone tend to rank ${mmLabels.maj} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-minMajCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.min} voters tend to rank ${mmLabels.maj} candidates the same way`,\n      },\n      {\n        id: \"random-minMajCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.min} voters tend to rank ${mmLabels.maj} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `minMinCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `minMinCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.min} voters, does everyone tend to rank ${mmLabels.min} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-minMinCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.min} voters tend to rank ${mmLabels.min} candidates the same way`,\n      },\n      {\n        id: \"random-minMinCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.min} voters tend to rank ${mmLabels.min} candidates randomly`,\n      },\n    ],\n  },\n];\n\n// Given a list of inputs, filter down to only those that have a given modelType\nfunction filterInputsByModelType(inputs, modelType) {\n  const modelDataid = getModelFromDisplay(modelType).dataid;\n  return inputs.filter((input) => {\n    return input.modelsUsed.includes(modelDataid);\n  });\n}\n\n// Given a formDataObject, filter down to inputs that have no modelType or have a given modelType\nfunction filterDataByModelTypes(formObject, modelType) {\n  if (!modelType) {\n    return formObject;\n  }\n  const modelDataid = getModelFromDisplay(modelType).dataid;\n  return _.pick(\n    formObject,\n    Object.keys(formObject).filter((key) => {\n      const keySplitFromType = key.split(\"-\");\n      const hasModelType = Boolean(keySplitFromType[1]);\n      // Get keys that either don't have a model type\n      //  or have a model type that matches this modelType\n      return (\n        !hasModelType || (hasModelType && keySplitFromType[1] === modelDataid)\n      );\n    })\n  );\n}\nfunction getModelFromDisplay(selectedModelDisplay) {\n  return models.find((model) => model.display === selectedModelDisplay);\n}\n\nfunction getApiEndpoint(selectedModel) {\n  return selectedModel\n    ? getModelFromDisplay(selectedModel).apiEndpoint\n    : ENSEMBLE_API_ENDPOINT;\n}\n\nexport {\n  models,\n  modelParams,\n  modelInputs,\n  filterInputsByModelType,\n  filterDataByModelTypes,\n  getApiEndpoint,\n};\n","const rcvTypesToVisualize = [\n  {\n    id: \"pl\",\n    display: \"Plackett-Luce\",\n    getPocElected: (simulationResults) => simulationResults.pl_poc_elected_rcv,\n  },\n  {\n    id: \"bt\",\n    display: \"Bradley-Terry\",\n    getPocElected: (simulationResults) => simulationResults.bt_poc_elected_rcv,\n  },\n  {\n    id: \"ac\",\n    display: \"Alternating Crossover\",\n    getPocElected: (simulationResults) => simulationResults.ac_poc_elected_rcv,\n  },\n  {\n    id: \"cs\",\n    display: \"Cambridge Sampler\",\n    getPocElected: (simulationResults) => simulationResults.cs_poc_elected_rcv,\n  },\n];\n\nexport { rcvTypesToVisualize };\n","import React from \"react\";\nimport qs from \"qs\";\nimport axios from \"axios\";\nimport { Card, Row } from \"react-bootstrap\";\nimport Spinner from \"./components/Spinner\";\nimport SimulationVisualization from \"./components/SimulationVisualization\";\nimport SaveButton from \"./components/SaveButton\";\nimport RunButton from \"./components/RunButton\";\nimport LoadingButton from \"./components/LoadingButton\";\nimport useAsync from \"./hooks/useAsync\";\nimport GenericInput from \"./inputs/GenericInput\";\nimport { getApiEndpoint, filterDataByModelTypes } from \"./model/rcvModelData\";\nimport { rcvTypesToVisualize } from \"./model/rcvTypesToVisualize\";\n\nfunction SimulationInformation({\n  appRef,\n  combineFormData,\n  formData,\n  formInputs,\n  setFormData,\n  selectedModel,\n}) {\n  // Get the API Endpoint for the selected model\n  const selectedModelEndpoint = getApiEndpoint(selectedModel);\n  // Build the API URL\n  const apiURL =\n    process.env.REACT_APP_API_BASEURL +\n    process.env.REACT_APP_API_SLUG +\n    selectedModelEndpoint;\n\n  // Get relevant params, and define the function that gets simulation results\n  const relevantParams = filterDataByModelTypes(\n    combineFormData(),\n    selectedModel ? selectedModel : undefined\n  );\n\n  const fetchData = async () => {\n    const response = await axios.get(apiURL, {\n      // Filter all the query params by the selectedModel\n      params: relevantParams,\n      paramsSerializer: (params) => {\n        return qs.stringify(params, { arrayFormat: \"repeat\" });\n      },\n    });\n    const data = response.data;\n    // Translate the response data into a list of data for each type of RCV election\n    return {\n      seatsOpen: data.seats_open,\n      rcvTypeLabels: rcvTypesToVisualize.map(\n        (modelType) => modelType[\"display\"]\n      ),\n      rcvTypeResults: rcvTypesToVisualize.map((modelType) => {\n        return modelType[\"getPocElected\"](data);\n      }),\n    };\n  };\n\n  // Store the results of simulations in state, as well as request status/error\n  const { execute, status, value, error } = useAsync(fetchData, false);\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-between\">\n        <h1>Simulations</h1>\n      </div>\n      <Card className=\"parameter-container\">\n        <Card.Body>\n          {/* First div: the inputs in the form of a row, and the button to trigger sims */}\n          <Row noGutters className=\"align-content-start\">\n            {formInputs.map((param) => {\n              return (\n                <GenericInput\n                  key={param.id}\n                  param={param}\n                  formData={formData}\n                  setFormData={setFormData}\n                />\n              );\n            })}\n          </Row>\n          <div>\n            {/* Second div: the results of the current simulation */}\n            <div className=\"d-flex justify-content-between\">\n              <h4>Election Results</h4>\n              {/* Download and save buttons */}\n              <div className=\"d-flex\">\n                {status === \"success\" && <SaveButton refToSave={appRef} />}\n                {status !== \"pending\" ? (\n                  <RunButton onClick={execute} />\n                ) : (\n                  <LoadingButton />\n                )}\n              </div>\n            </div>\n            {/* Results of the simulation */}\n            {/* When errors are present, log them to the console */}\n            {status === \"error\" && (\n              <p>\n                There was an error processing those simulations.\n                {console.error(error)}\n              </p>\n            )}\n            {/* While loading, display a spinner */}\n            {status === \"pending\" && (\n              <div className=\"d-flex flex-column w-100\">\n                <div style={{ height: \"415px\" }}>\n                  <Spinner />\n                </div>\n              </div>\n            )}\n            {/* Show an empty viz when no simulations have been triggered or completed  */}\n            {status === \"idle\" && <SimulationVisualization />}\n            {/* Display the results of the simulation when completed */}\n            {status === \"success\" && (\n              <SimulationVisualization\n                simulationResults={value}\n                simulationParams={relevantParams}\n                selectedModel={selectedModel}\n              />\n            )}\n          </div>\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n\nexport default React.memo(SimulationInformation);\n","import { mmLabels } from \"./constants\";\n\nconst electionParams = [\n  {\n    id: \"ballots\",\n    dataid: \"ballots\",\n    initialValue: 1000,\n  },\n  {\n    id: \"seatsOpen\",\n    dataid: \"seatsOpen\",\n    initialValue: 5,\n  },\n  {\n    id: `majCandidates`,\n    dataid: `majCandidates`,\n    initialValue: 6,\n  },\n  {\n    id: `minCandidates`,\n    dataid: `minCandidates`,\n    initialValue: 6,\n  },\n];\n\nconst electionInputs = [\n  {\n    id: \"ballots\",\n    dataid: \"ballots\",\n    type: \"number\",\n    step: 10,\n    min: 0,\n    max: 10000,\n    // fullWidth: true,\n    label: \"Ballots cast\",\n    helperText: \"Max 10,000\",\n    info: \"The number of voters in each election simulation\",\n  },\n  {\n    id: \"seatsOpen\",\n    dataid: \"seatsOpen\",\n    type: \"number\",\n    step: 1,\n    min: 0,\n    max: 20,\n    label: \"Seats open for election\",\n    helperText: \"Max 20\",\n    info: \"The number of open seats open for election in each simulation\",\n  },\n  {\n    id: `majCandidates`,\n    dataid: `majCandidates`,\n    type: \"number\",\n    step: 1,\n    min: 0,\n    max: 15,\n    helperText: \"Max 15\",\n    label: `${mmLabels.maj} candidates`,\n    info: `The number of ${mmLabels.maj} candidates running for election in each simulation`,\n  },\n  {\n    id: `minCandidates`,\n    dataid: `minCandidates`,\n    type: \"number\",\n    step: 1,\n    min: 0,\n    max: 15,\n    helperText: \"Max 15\",\n    label: `${mmLabels.min} candidates`,\n    info: `The number of ${mmLabels.min} candidates running for election in each simulation`,\n  },\n];\n\nexport { electionParams, electionInputs };\n","import { mmLabels } from \"./constants\";\n\nconst voterParams = [\n  {\n    id: `popMajParty`,\n    dataid: `popMajParty`,\n    initialValue: 70,\n  },\n  {\n    id: `percentageMajCohesion`,\n    dataid: `percentageMajCohesion`,\n    initialValue: 70,\n  },\n  {\n    id: `percentageMinCohesion`,\n    dataid: `percentageMinCohesion`,\n    initialValue: 70,\n  },\n  {\n    id: `majMajCandidateAgreement`,\n    dataid: `majMajCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `majMinCandidateAgreement`,\n    dataid: `majMinCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `minMinCandidateAgreement`,\n    dataid: `minMinCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `minMajCandidateAgreement`,\n    dataid: `minMajCandidateAgreement`,\n    initialValue: 1,\n  },\n];\n\nconst voterInputs = [\n  {\n    id: `popMajParty`,\n    dataid: `popMajParty`,\n    type: \"split-slider\",\n    fullWidth: true,\n    step: 1,\n    min: 0,\n    max: 100,\n    leftLabel: `Percent ${mmLabels.maj}`,\n    rightLabel: `Percent ${mmLabels.min}`,\n    label: `Percentage of population that is ${mmLabels.maj} vs ${mmLabels.min}`,\n    info: `Assuming all members of the population vote for either ${mmLabels.maj}\n    or ${mmLabels.min}, which percentage votes for ${mmLabels.maj}\n    `,\n  },\n  {\n    id: `percentageMajCohesion`,\n    dataid: `percentageMajCohesion`,\n    type: \"split-slider\",\n    fullWidth: true,\n    step: 1,\n    min: 0,\n    max: 100,\n    leftLabel: `${mmLabels.maj} cohesion`,\n    rightLabel: `${mmLabels.maj} crossover`,\n    label: `${mmLabels.maj} voter cohesion and crossover`,\n    helperText: `Max 100%`,\n  },\n  {\n    id: `percentageMinCohesion`,\n    dataid: `percentageMinCohesion`,\n    type: \"split-slider\",\n    minColorFirst: true,\n    fullWidth: true,\n    step: 1,\n    min: 0,\n    max: 100,\n    leftLabel: `${mmLabels.min} cohesion`,\n    rightLabel: `${mmLabels.min} crossover`,\n    label: `${mmLabels.min} voters cohesion and crossover`,\n    helperText: `Max 100%`,\n  },\n  {\n    id: `majMajCandidateAgreement`,\n    dataid: `majMajCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.maj} voters, does everyone tend to rank ${mmLabels.maj} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-majMajCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.maj} voters tend to rank ${mmLabels.maj} candidates the same way`,\n      },\n      {\n        id: \"random-majMajCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.maj} voters tend to rank ${mmLabels.maj} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `majMinCandidateAgreement`,\n    dataid: `majMinCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.maj} voters, does everyone tend to rank ${mmLabels.min} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-majMinCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.maj} voters tend to rank ${mmLabels.min} candidates the same way`,\n      },\n      {\n        id: \"random-majMinCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.maj} voters tend to rank ${mmLabels.min} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `minMajCandidateAgreement`,\n    dataid: `minMajCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.min} voters, does everyone tend to rank ${mmLabels.maj} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-minMajCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.min} voters tend to rank ${mmLabels.maj} candidates the same way`,\n      },\n      {\n        id: \"random-minMajCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.min} voters tend to rank ${mmLabels.maj} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `minMinCandidateAgreement`,\n    dataid: `minMinCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.min} voters, does everyone tend to rank ${mmLabels.min} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-minMinCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.min} voters tend to rank ${mmLabels.min} candidates the same way`,\n      },\n      {\n        id: \"random-minMinCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.min} voters tend to rank ${mmLabels.min} candidates randomly`,\n      },\n    ],\n  },\n];\n\nexport { voterParams, voterInputs };\n","const modelTypeEnum = Object.freeze({\n  pl: 0,\n  bt: 1,\n  ac: 2,\n  cs: 3,\n});\n\nconst simulationParams = [\n  {\n    id: \"numElectionsEachSimulation\",\n    dataid: \"numElectionsEachSimulation\",\n    initialValue: 1,\n  },\n  {\n    id: \"modelsToSimulate\",\n    dataid: \"modelsToSimulate\",\n    initialValue: Object.values(modelTypeEnum),\n  },\n];\n\nconst simulationInputs = [\n  {\n    id: \"numElectionsEachSimulation\",\n    dataid: \"numElectionsEachSimulation\",\n    type: \"number\",\n    min: 1,\n    max: 4,\n    label: \"Elections to simulate, per model\",\n    helperText: \"Max 4\",\n    info:\n      \"The number of elections to simulate with these parameters, for each model type.\",\n  },\n  {\n    id: \"modelsToSimulate\",\n    dataid: \"modelsToSimulate\",\n    // padding: false,\n    type: \"checkbox\",\n    label: `RCV models to use`,\n    updateTransform: (newValue, id, formData) => {\n      // Need to convert incoming value to int\n      const intValue = parseInt(newValue);\n      const prevValues = formData[id];\n      // If this value was already checked, remove it\n      if (prevValues.includes(intValue)) {\n        return prevValues.filter((item) => item !== intValue);\n      }\n      // Else, add it to the list of checked values\n      prevValues.push(intValue);\n      return prevValues;\n    },\n    options: [\n      {\n        id: \"pl\",\n        value: modelTypeEnum[\"pl\"],\n        label: `Plackett-Luce`,\n      },\n      {\n        id: \"bt\",\n        value: modelTypeEnum[\"bt\"],\n        label: `Bradley-Terry`,\n      },\n      {\n        id: \"ac\",\n        value: modelTypeEnum[\"ac\"],\n        label: `Alternating Crossover`,\n      },\n      {\n        id: \"cs\",\n        value: modelTypeEnum[\"cs\"],\n        label: `Cambridge Sampler`,\n      },\n    ],\n  },\n];\n\nexport { simulationParams, simulationInputs };\n","import _ from \"lodash\";\nimport { useState } from \"react\";\n\n// Hook\nfunction useLocalStorage(stateObjectName, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by stateObjectName\n      const storedState = window.localStorage.getItem(stateObjectName);\n      // Return initialValue if this is new to localStorage\n      if (_.isNull(storedState)) {\n        return initialValue;\n      }\n      // If the keys on the storedState match the current one, use the storedState;\n      // else, clear it and use the current state\n      const parsedStoredState = JSON.parse(storedState);\n      const validStateObjectKeys = Object.keys(initialValue);\n      const storedStateKeys = Object.keys(parsedStoredState);\n      if (_.isEqual(storedStateKeys, validStateObjectKeys)) {\n        return parsedStoredState;\n      }\n      window.localStorage.removeItem(stateObjectName);\n      return initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(\n        stateObjectName,\n        JSON.stringify(valueToStore)\n      );\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n","import React, { useRef } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport InputParametersCard from \"../components/InputParametersCard\";\nimport SimulationInformation from \"../SimulationInformation\";\nimport { electionParams, electionInputs } from \"../model/electionData\";\nimport { voterParams, voterInputs } from \"../model/voterEnsembleData\";\nimport {\n  simulationParams,\n  simulationInputs,\n} from \"../model/simulationEnsembleData\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nfunction SimulationPage() {\n  const appRef = useRef();\n\n  // Set the initial ElectionState\n  const initialElectionState = electionParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [electionState, setElectionState] = useLocalStorage(\n    \"electionState\",\n    initialElectionState\n  );\n  // Set the initial VoterState\n  const initialVoterState = voterParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [voterState, setVoterState] = useLocalStorage(\n    \"voterState\",\n    initialVoterState\n  );\n  // Set the initial Simulation\n  const initialSimulationState = simulationParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [simulationState, setSimulationState] = useLocalStorage(\n    \"simulationState\",\n    initialSimulationState\n  );\n\n  // Combine separate input states\n  const combineFormData = () => {\n    return {\n      ...electionState,\n      ...voterState,\n      ...simulationState,\n    };\n  };\n\n  return (\n    <Container fluid ref={appRef}>\n      <Row>\n        <Col lg={7} className=\"pb-2 d-flex flex-column\">\n          <InputParametersCard\n            formTitle={\"Election Details\"}\n            formInputs={electionInputs}\n            formData={electionState}\n            setFormData={setElectionState}\n            resetData={() => setElectionState(initialElectionState)}\n          />\n          <InputParametersCard\n            formTitle={\"Voter Behaviors\"}\n            formInputs={voterInputs}\n            formData={voterState}\n            setFormData={setVoterState}\n            resetData={() => setVoterState(initialVoterState)}\n          />\n        </Col>\n        <Col lg={5} className=\"pb-2 d-flex flex-column\">\n          <SimulationInformation\n            appRef={appRef}\n            combineFormData={combineFormData}\n            formData={simulationState}\n            formInputs={simulationInputs}\n            setFormData={setSimulationState}\n          />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SimulationPage;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction LinkButton({ history, to, children }) {\n  return (\n    <Button variant=\"primary\" size=\"lg\" onClick={() => history.push(to)}>\n      {children}\n    </Button>\n  );\n}\n\nexport default withRouter(LinkButton);\n","var _defs, _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMggg(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 682 146.35\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{isolation:isolate;}.cls-2{fill:#0099cd;}.cls-3,.cls-4{fill:#010101;}.cls-3{mix-blend-mode:darken;}\"))), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Artboard 1\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    className: \"cls-1\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-2\",\n    d: \"M227.19,30.36l59.35,42.81L308.91,3.51a73.17,73.17,0,0,0-81.43,112.87l59.06-43.21Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-3\",\n    d: \"M359.7,72.92l-73.16.25,22.84,69.52L286.54,73.17l-59.06,43.21A73.16,73.16,0,0,0,359.7,72.92Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-2\",\n    d: \"M388.34,30.36l59.35,42.81L470.06,3.51a73.17,73.17,0,0,0-81.43,112.87l59.06-43.21Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-3\",\n    d: \"M520.85,72.92l-73.16.25,22.84,69.52L447.69,73.17l-59.06,43.21A73.16,73.16,0,0,0,520.85,72.92Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-2\",\n    d: \"M549.49,30.36l59.35,42.81L631.21,3.51a73.17,73.17,0,0,0-81.43,112.87l59.06-43.21Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-3\",\n    d: \"M682,72.92l-73.16.25,22.84,69.52L608.84,73.17l-59.06,43.21A73.16,73.16,0,0,0,682,72.92Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"cls-2\",\n    points: \"73.18 0 0 146.35 73.18 146.35 109.77 73.18 73.18 0\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"cls-2\",\n    points: \"146.35 0 109.77 73.18 146.35 146.35 219.53 146.35 146.35 0\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"cls-4\",\n    points: \"73.18 146.35 146.35 146.35 109.77 73.18 73.18 146.35\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"cls-3\",\n    points: \"73.18 146.35 146.35 146.35 109.77 73.18 73.18 146.35\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMggg);\nexport default __webpack_public_path__ + \"static/media/mggg.69a3b576.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/ac.3be09219.png\";","export default __webpack_public_path__ + \"static/media/cs.ae964311.png\";","export default __webpack_public_path__ + \"static/media/pl.47b6df81.png\";","export default __webpack_public_path__ + \"static/media/bt.c8f962ec.png\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSwoop(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 500 150\",\n    preserveAspectRatio: \"none\",\n    style: {\n      height: \"100%\",\n      width: \"100%\"\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.00,49.98 C203.72,197.85 320.54,-27.15 500.00,49.98 L500.00,150.00 L0.00,150.00 Z\",\n    style: {\n      stroke: \"none\",\n      fill: \"#4b3f72\"\n    }\n  }));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSwoop);\nexport default __webpack_public_path__ + \"static/media/swoop.52f7b361.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\nimport { Container, Row, Col, Card, Modal, Button } from \"react-bootstrap\";\nimport { GitHub } from \"react-feather\";\nimport LinkButton from \"../components/LinkButton\";\n// Images\nimport ac from \"../images/ac.png\";\nimport cs from \"../images/cs.png\";\nimport pl from \"../images/pl.png\";\nimport bt from \"../images/bt.png\";\nimport { ReactComponent as MGGGLogo } from \"../images/mggg.svg\";\nimport { ReactComponent as Swoop } from \"../images/swoop.svg\";\n// Descriptions from file\nimport { pldesc, btdesc, csdesc, acdesc } from \"./modelDescriptions\";\nimport \"../styles/aboutPage.scss\";\n\nfunction ContributionComponent({ link, title, children, className }) {\n  return (\n    <Col xs={6} sm={4} className={`ml-auto mr-auto ${className}`}>\n      <a\n        className=\"d-flex justify-content-center flex-wrap text-center\"\n        href={link}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {children}\n        <div className=\"w-100\">\n          <h3 className=\"font-basic\">{title}</h3>\n        </div>\n      </a>\n    </Col>\n  );\n}\n\nfunction ModelCard({ image, title, description }) {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <>\n      <Card className=\"model-card rounded\" onClick={handleShow}>\n        <Card.Img src={image} />\n        <Card.Header className=\"d-flex align-items-baseline justify-content-between h-100\">\n          <h3>{title}</h3>\n          <Card.Link onClick={handleShow}>Details</Card.Link>\n        </Card.Header>\n        {/* Modal with detailed information */}\n      </Card>\n      <Modal show={show} size=\"lg\" onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{title} Model Details</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <img\n            alt={`Schematic of the ${title} model`}\n            src={image}\n            className=\"float-left border model-card-image\"\n          />\n          <p>{description}</p>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nfunction AboutSection() {\n  return (\n    <section id=\"general-about\">\n      <h1>About This Work</h1>\n      <p>\n        Electoral systems can have a large impact on how voters are represented.\n        One electoral system that has garnered attention the past few years is\n        Ranked Choice Voting (RCV). This application aims to help users explore\n        the impact RCV may have on representation.\n      </p>{\" \"}\n      <p>\n        Building off the models introduced by Benade, Buck, Duchin, Gold and\n        Weighill in{\" \"}\n        <a href=\"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3778021\">\n          \"RCV and Minority Representation\"\n        </a>\n        , this application exposes the inputs to those models in the form of a\n        web application. By enabling a wide audience of users to see for\n        themselves the impact RCV might have in the scenarios they craft, we\n        hope to catalyze discussions about RCV's viability as a tool for\n        diminishing voter dilution in minority populations.\n      </p>\n      <div className=\"d-flex justify-content-center\">\n        <LinkButton to=\"/simulation\">Run RCV Simulations</LinkButton>\n      </div>\n    </section>\n  );\n}\n\nfunction ModelsSection() {\n  return (\n    <section id=\"models\">\n      <h1 className=\"mb-4\">RCV Model Details</h1>\n      <p>\n        There are four RCV models that this application leverages:\n        Plackett-Luce, Bradley-Terry, Cambridge Sampler, & Alternating\n        Crossover. All the models take some basic inputs, namely the support\n        from each group for each class of candidate (green- or\n        purple-preferred), which should be numbers between 0 and 1. These values\n        can be estimated by analyzing single-winner elections, inferred from\n        survey results, or set to hypothetical values. Each model interprets\n        these support values slightly differently, as detailed below.\n      </p>\n      <Row noGutters className=\"d-flex justify-around\" id=\"model-cards\">\n        <Col\n          sm={6}\n          xs={12}\n          className=\"mt-4 pl-2 pr-2 d-flex justify-content-center\"\n        >\n          <ModelCard title=\"Plackett-Luce\" description={pldesc} image={pl} />\n        </Col>\n        <Col\n          sm={6}\n          xs={12}\n          className=\"mt-4 pl-2 pr-2 d-flex justify-content-center\"\n        >\n          <ModelCard title=\"Bradley-Terry\" description={btdesc} image={bt} />\n        </Col>\n\n        <Col\n          sm={6}\n          xs={12}\n          className=\"mt-4 pl-2 pr-2 d-flex justify-content-center\"\n        >\n          <ModelCard\n            title=\"Cambridge Sampler\"\n            description={csdesc}\n            image={cs}\n          />\n        </Col>\n        <Col\n          sm={6}\n          xs={12}\n          className=\"mt-4 pl-2 pr-2 d-flex justify-content-center\"\n        >\n          <ModelCard\n            title=\"Alternating Crossover\"\n            description={acdesc}\n            image={ac}\n          />\n        </Col>\n      </Row>\n    </section>\n  );\n}\n\nfunction LearnMoreSection() {\n  return (\n    <>\n      <div id=\"wave-container\">\n        <Swoop />\n      </div>\n      <section id=\"learn-more\" className=\"text-center pb-4\">\n        <h1 className=\"mb-4\"> Learn More </h1>\n        <p className=\"ml-4 mr-4 mb-5\">\n          Still curious? Dive into our codebases on GitHub, where you can find\n          all of our code published as open-source software. Let us know about\n          bugs you encounter, features you'd like, and how you are using our RCV\n          simulation application.\n        </p>\n        <Row className=\"mt-4 mb-5\">\n          <ContributionComponent\n            link=\"https://github.com/mggg/RCV_Basics\"\n            title=\"RCV Model Backend\"\n          >\n            <GitHub size={60} />\n          </ContributionComponent>\n          <ContributionComponent\n            link=\"https://mggg.org/work\"\n            title=\"MGGG Portfolio\"\n          >\n            <MGGGLogo width=\"150px\" className=\"pt-3 pb-3\" />\n          </ContributionComponent>\n          <ContributionComponent\n            link=\"https://github.com/mggg/rcv-webapp\"\n            title=\"RCV Webapp Frontend\"\n          >\n            <GitHub size={60} />\n          </ContributionComponent>\n        </Row>\n      </section>\n    </>\n  );\n}\n\nfunction AboutPage() {\n  return (\n    <Container id=\"about-page\">\n      <AboutSection />\n      <hr className=\"mb-5 mt-5\" />\n      <ModelsSection />\n      <LearnMoreSection />\n    </Container>\n  );\n}\n\nexport default AboutPage;\n","import EnsembleSimulationPage from \"./EnsembleSimulationPage\";\nimport AboutPage from \"./AboutPage\";\n// import SimulationPage from \"./SimulationPage\";\n\n// Config file serving as a single point of truth for all application routes\nconst routes = [\n  {\n    path: `/`,\n    isExact: true,\n    display: \"Home\",\n    component: AboutPage,\n  },\n  {\n    path: `/simulation`,\n    display: \"Simulation\",\n    component: EnsembleSimulationPage,\n  },\n];\n\nexport { routes };\n","import React from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport AppHeader from \"./AppHeader\";\nimport { routes } from \"./pages/routes\";\n\nfunction App() {\n  return (\n    <Router basename={\"/\"}>\n      <AppHeader routes={routes} />\n      <Switch>\n        {routes.map((route, i) => (\n          <Route path={route.path} exact={route.isExact} key={i}>\n            <route.component />\n          </Route>\n        ))}\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}