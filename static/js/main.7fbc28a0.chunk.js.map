{"version":3,"sources":["styles/radioInput.scss","styles/index.scss","components/ResetButton.js","inputs/NumberInput.js","inputs/RadioInput.js","inputs/CheckboxInput.js","inputs/SplitSlider.js","inputs/TickedSlider.js","inputs/GenericInput.js","model/constants.js","model/voterData.js","VoterParameters.js","model/electionData.js","ElectionParameters.js","model/rcvModelData.js","ModelParameters.js","components/Spinner.js","components/EmptyPlaceholder.js","components/SimulationStatsTable.js","components/SimulationResultsHistogram.js","components/SimulationVisualization.js","components/SaveButton.js","components/RunButton.js","components/LoadingButton.js","hooks/useAsync.js","SimulationInformation.js","model/simulationData.js","hooks/useLocalStorage.js","pages/SimulationPage.js","model/simulationEnsembleData.js","pages/AboutPage.js","pages/routes.js","pages/SimulationPageTwo.js","AppHeader.js","App.js","serviceWorker.js","index.js","styles/_variables.scss"],"names":["module","exports","ResetButton","onClick","Button","variant","className","size","NumberInput","dataid","fullWidth","handleChange","helperText","label","max","min","maxVariable","padding","step","value","widthClass","paddingClass","type","onChange","e","target","RadioInput","id","options","map","option","key","name","checked","parseInt","htmlFor","Form","Check","custom","includes","Slider","minColorFirst","labelFormat","values","renderTrack","props","children","style","background","getTrackBackground","colors","variables","renderThumb","isDragged","SplitSlider","leftLabel","rightLabel","Number","val","TickedSlider","maxLabel","minLabel","ticks","_","range","marks","primary","renderMark","GenericInput","param","formData","setFormData","formInputs","transformFunction","updateTransform","arg","formDataCopy","CheckboxInput","console","warn","mmLabels","voterParams","initialValue","voterInputs","info","React","memo","resetData","Card","Row","as","Body","noGutters","electionParams","electionInputs","getSeats","models","display","apiEndpoint","modelParams","modelsUsed","modelInputs","getModelFromDisplay","selectedModelDisplay","find","model","selectedModel","setSelectedModel","Header","Nav","defaultActiveKey","onSelect","keyForEachModel","Item","Link","eventKey","inputs","modelType","modelDataid","filter","input","filterInputsByModelType","Spinner","height","width","marginTop","role","EmptyPlaceholder","KeyValueTable","kv","Object","keys","length","Table","striped","borderless","entries","k","v","data","maxSeats","stats","isEmpty","Min","Max","Mode","modeFast","Mean","mean","toFixed","standardDeviation","statsMarginalized","statsDisplay","Col","sm","SimulationResultsHistogram","displayMajResults","chartData","x","bins","barColor","demographicVisualized","meanCandidateElected","undefined","parent","fontSize","containerComponent","maxWidth","margin","maxHeight","text","y","textAnchor","labels","fill","cornerRadius","labelComponent","constrainToVisibleArea","datum","stroke","strokeDasharray","axisLabelComponent","dy","dependentAxis","tickLabelComponent","tickValues","slice","SimulationVisualization","toggleMajResults","setState","state","nextProps","nextState","simulationResults","this","simulationParams","pocElected","poc_elected_rcv","seats_open","relevantElected","pocWinners","switchWillVisualize","Component","SaveButton","refToSave","exportComponentAsPNG","RunButton","LoadingButton","disabled","useAsync","asyncFunction","immediate","useState","status","setStatus","setValue","error","setError","execute","useCallback","then","response","catch","useEffect","combineFormData","apiURL","process","getApiEndpoint","relevantParams","formObject","pick","keySplitFromType","split","hasModelType","Boolean","filterDataByModelTypes","a","axios","get","params","paramsSerializer","qs","stringify","arrayFormat","simulationVisualizationRef","useRef","ref","simulationInputs","useLocalStorage","stateObjectName","storedState","window","localStorage","getItem","isNull","parsedStoredState","JSON","parse","validStateObjectKeys","storedStateKeys","isEqual","removeItem","log","storedValue","setStoredValue","valueToStore","Function","setItem","SimulationPage","initialElectionState","reduce","accum","p","electionState","setElectionState","initialVoterState","voterState","setVoterState","initialModelState","modelState","setModelState","initialSimulationState","simulationState","setSimulationState","Container","fluid","md","modelTypeEnum","freeze","pl","bt","ac","cs","newValue","intValue","prevValues","item","push","AboutPage","routes","path","component","href","isHome","getHomePath","route","AppHeader","Navbar","expand","Brand","to","Toggle","Collapse","reverse","i","App","basename","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.7fbc28a0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#c08c33\",\"maj-color\":\"#4b9460\",\"min-color\":\"#4b3f72\",\"primary-emph\":\"#dcb97d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#c08c33\",\"maj-color\":\"#4b9460\",\"min-color\":\"#4b3f72\",\"primary-emph\":\"#dcb97d\"};","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { RefreshCw } from \"react-feather\";\n\nfunction ResetButton({ onClick }) {\n  return (\n    <Button\n      onClick={onClick}\n      variant=\"light\"\n      className=\"btn mr-0 ml-1 mt-2 d-flex justify-content-center align-items-center\"\n    >\n      <RefreshCw size={18} className=\"mr-1\" />\n      Reset\n    </Button>\n  );\n}\n\nexport default ResetButton;\n","import React from \"react\";\n\nfunction NumberInput({\n  dataid,\n  fullWidth,\n  handleChange,\n  helperText,\n  label,\n  max,\n  maxVariable,\n  min,\n  padding = true,\n  step = 1,\n  value,\n}) {\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <label className=\"input-label\">{label}</label>\n      <input\n        type=\"number\"\n        onChange={(e) => handleChange(e.target.value)}\n        value={value}\n        step={step}\n        min={min}\n        max={max}\n      />\n      <span className=\"d-block input-helper-text\">{helperText}</span>\n    </div>\n  );\n}\n\nexport default NumberInput;\n","import React from \"react\";\nimport \"../styles/radioInput.scss\";\n\nfunction RadioInput({\n  dataid,\n  fullWidth,\n  handleChange,\n  id,\n  label,\n  options,\n  padding = true,\n  type,\n  value,\n}) {\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <div className=\"input-label pb-1\">{label}</div>\n      {options.map((option) => {\n        return (\n          <div key={option.id} className=\"pb-1\">\n            <input\n              type=\"radio\"\n              id={option.id}\n              name={dataid}\n              onChange={(e) => handleChange(e.target.value)}\n              value={option.value}\n              checked={option.value === parseInt(value)}\n              className=\"d-inline\"\n            />\n            <label htmlFor={option.id} className=\"radio-option-text\">\n              {option.label}\n            </label>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default RadioInput;\n","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport \"../styles/radioInput.scss\";\n\nfunction RadioInput({\n  dataid,\n  fullWidth,\n  handleChange,\n  id,\n  label,\n  options,\n  padding = true,\n  value,\n}) {\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <div className=\"input-label pb-1\">{label}</div>\n      {options.map((option) => {\n        return (\n          <div key={option.id} className=\"pb-1\">\n            <Form.Check\n              custom\n              type=\"checkbox\"\n              id={option.id}\n              name={dataid}\n              onChange={(e) => handleChange(e.target.value)}\n              value={option.value}\n              checked={value.includes(option.value)}\n              className=\"d-inline\"\n            />\n            <label htmlFor={option.id} className=\"checkbox-option-text\">\n              {option.label}\n            </label>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default RadioInput;\n","import React from \"react\";\n\nimport { Range, getTrackBackground } from \"react-range\";\nimport variables from \"../styles/_variables.scss\";\n// To include the default styles\n\nfunction Slider({\n  minColorFirst,\n  value,\n  min,\n  max,\n  step,\n  onChange,\n  labelFormat,\n}) {\n  return (\n    <Range\n      onChange={(values) => onChange(values[0])}\n      values={[value]}\n      min={min}\n      max={max}\n      step={step}\n      renderTrack={({ props, children }) => (\n        <div\n          {...props}\n          className=\"slider-track\"\n          style={{\n            ...props.style,\n            background: getTrackBackground({\n              values: [value],\n              colors: minColorFirst\n                ? [variables[\"min-color\"], variables[\"maj-color\"]]\n                : [variables[\"maj-color\"], variables[\"min-color\"]],\n              min: min,\n              max: max,\n            }),\n          }}\n        >\n          {children}\n        </div>\n      )}\n      renderThumb={({ props, isDragged }) => (\n        <div {...props} className=\"slider-thumb\">\n          {/* Render the tooltip when being dragged */}\n          {isDragged && <div className=\"slider-tooltip\">{labelFormat()}</div>}\n        </div>\n      )}\n    />\n  );\n}\n\nfunction SplitSlider({\n  className,\n  minColorFirst,\n  fullWidth,\n  handleChange,\n  id,\n  label,\n  leftLabel,\n  rightLabel,\n  max,\n  min,\n  padding = true,\n  step = 1,\n  value,\n}) {\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <label className=\"input-label w-75\">{label}</label>\n      <div className=\"d-flex align-items-center justify-content-between\">\n        {/* Left Value Numeric Input */}\n        <input\n          className=\"input-value\"\n          onChange={(e) => handleChange(e.target.value)}\n          type=\"number\"\n          value={value}\n          min={min}\n          max={max}\n          step={step}\n        />\n        {/* Slider */}\n        <span className=\"pl-3 pr-3 w-100\">\n          <Slider\n            minColorFirst={minColorFirst}\n            value={Number(value)}\n            min={min}\n            max={max}\n            step={step}\n            labelFormat={() => `${Number(value)}% - ${max - Number(value)}%`}\n            onChange={(val) => handleChange(val)}\n          />\n        </span>\n        {/* Right Value Numeric Input */}\n        <input\n          className=\"input-value text-right\"\n          onChange={(e) => handleChange(max - e.target.value)}\n          type=\"number\"\n          value={max - value}\n          min={min}\n          max={max}\n          step={step}\n        />\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <div className=\"text-left\">\n          <label className=\"d-block input-helper-text mr-1 mb-0\">\n            {leftLabel}\n          </label>\n        </div>\n        <div className=\"text-right\">\n          <label className=\"d-block input-helper-text ml-1  mb-0\">\n            {rightLabel}\n          </label>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SplitSlider;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport { Range, getTrackBackground } from \"react-range\";\nimport variables from \"../styles/_variables.scss\";\n\nfunction TickedSlider({\n  dataid,\n  fullWidth,\n  handleChange,\n  helperText,\n  id,\n  label,\n  max,\n  maxLabel,\n  min,\n  minLabel,\n  padding = true,\n  step = 1,\n  value,\n}) {\n  const ticks = _.range(min, max + step, step);\n  const widthClass = fullWidth ? \" col-12 \" : \" col-sm-6 \";\n  const paddingClass = padding ? \" pr-2 pl-2 \" : \"p-0\";\n\n  return (\n    <div className={`${paddingClass} ${widthClass}`}>\n      <label className=\"input-label\">{label}</label>\n      <div className=\"d-flex mb-2 justify-content-between\">\n        <span className=\"input-helper-text align-self-center mr-1 text-left\">\n          {minLabel}\n        </span>\n        <span className=\"input-helper-text align-self-center ml-1 text-right\">\n          {maxLabel}\n        </span>\n      </div>\n      <Range\n        onChange={(values) => handleChange(values[0])}\n        values={[value]}\n        min={min}\n        max={max}\n        step={step}\n        marks={ticks}\n        renderTrack={({ props, children }) => (\n          <div\n            {...props}\n            className=\"slider-track\"\n            style={{\n              ...props.style,\n              background: getTrackBackground({\n                values: [value],\n                colors: [variables.primary, \"#ccc\"],\n                min: min,\n                max: max,\n              }),\n            }}\n          >\n            {children}\n          </div>\n        )}\n        renderThumb={({ props }) => <div {...props} className=\"slider-thumb\" />}\n        renderMark={({ props }) => <div {...props} className=\"ticked_mark\" />}\n      />\n    </div>\n  );\n}\n\nexport default TickedSlider;\n","import React from \"react\";\nimport NumberInput from \"./NumberInput\";\nimport RadioInput from \"./RadioInput\";\nimport CheckboxInput from \"./CheckboxInput\";\nimport Slider from \"./SplitSlider\";\nimport TickedSlider from \"./TickedSlider\";\n\nfunction GenericInput({ param, formData, setFormData, formInputs }) {\n  const handleChange = (param) => (value) => {\n    // If the parameter has a transform to apply before updating, us it;\n    // else have the transform be a noop\n    const transformFunction = param.updateTransform || ((arg) => arg);\n    const formDataCopy = { ...formData };\n    formDataCopy[param.dataid] = transformFunction(\n      value,\n      param.dataid,\n      formDataCopy\n    );\n    setFormData(formDataCopy);\n  };\n\n  switch (param.type) {\n    case \"number\":\n      return (\n        <NumberInput\n          {...param}\n          max={param.maxVariable ? formData[param.maxVariable] : param.max}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n        />\n      );\n    case \"split-slider\":\n      return (\n        <Slider\n          {...param}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n        />\n      );\n    case \"ticked-slider\":\n      return (\n        <TickedSlider\n          {...param}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n        />\n      );\n    case \"radio\":\n      return (\n        <RadioInput\n          {...param}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n          formData={formData}\n        />\n      );\n    case \"checkbox\":\n      return (\n        <CheckboxInput\n          {...param}\n          handleChange={handleChange(param)}\n          value={formData[param.dataid]}\n          formData={formData}\n        />\n      );\n    default:\n      console.warn(`Seeing a new kind of parameter type: ${param.type}`);\n      return null;\n  }\n}\n\nexport default GenericInput;\n","const mmLabels = {\n  maj: \"Green\",\n  min: \"Purple\",\n};\n\nexport { mmLabels };\n","import { mmLabels } from \"./constants\";\n\nconst voterParams = [\n  {\n    id: `popMajParty`,\n    dataid: `popMajParty`,\n    initialValue: 70,\n  },\n  {\n    id: `percentageMajCohesion`,\n    dataid: `percentageMajCohesion`,\n    initialValue: 70,\n  },\n  {\n    id: `percentageMinCohesion`,\n    dataid: `percentageMinCohesion`,\n    initialValue: 70,\n  },\n];\n\nconst voterInputs = [\n  {\n    id: `popMajParty`,\n    dataid: `popMajParty`,\n    type: \"split-slider\",\n    fullWidth: true,\n    step: 1,\n    min: 0,\n    max: 100,\n    leftLabel: `Percent ${mmLabels.maj}`,\n    rightLabel: `Percent ${mmLabels.min}`,\n    label: `Percentage of population that is ${mmLabels.maj} vs ${mmLabels.min}`,\n    info: `Assuming all members of the population vote for either ${mmLabels.maj}\n    or ${mmLabels.min}, which percentage votes for ${mmLabels.maj}\n    `,\n  },\n  {\n    id: `percentageMajCohesion`,\n    dataid: `percentageMajCohesion`,\n    type: \"split-slider\",\n    fullWidth: true,\n    step: 1,\n    min: 0,\n    max: 100,\n    leftLabel: `${mmLabels.maj} cohesion`,\n    rightLabel: `${mmLabels.maj} crossover`,\n    label: `${mmLabels.maj} voter cohesion and crossover`,\n    helperText: `Max 100%`,\n  },\n  {\n    id: `percentageMinCohesion`,\n    dataid: `percentageMinCohesion`,\n    type: \"split-slider\",\n    minColorFirst: true,\n    fullWidth: true,\n    step: 1,\n    min: 0,\n    max: 100,\n    leftLabel: `${mmLabels.min} cohesion`,\n    rightLabel: `${mmLabels.min} crossover`,\n    label: `${mmLabels.min} voters cohesion and crossover`,\n    helperText: `Max 100%`,\n  },\n];\n\nexport { voterParams, voterInputs };\n","import React from \"react\";\nimport { Card, Row } from \"react-bootstrap\";\nimport ResetButton from \"./components/ResetButton\";\n\nimport GenericInput from \"./inputs/GenericInput\";\nimport { voterInputs } from \"./model/voterData\";\n\nfunction VoterParameters({ formData, setFormData, resetData }) {\n  return (\n    <>\n      <div className=\"d-flex\">\n        <h1>Voter Behaviors</h1>\n        <ResetButton onClick={resetData} />\n      </div>\n      <Card className=\"parameter-container\">\n        <Row as={Card.Body} noGutters className=\"align-content-start\">\n          {voterInputs.map((param) => {\n            return (\n              <GenericInput\n                key={param.id}\n                param={param}\n                formData={formData}\n                setFormData={setFormData}\n              />\n            );\n          })}\n        </Row>\n      </Card>\n    </>\n  );\n}\n\nexport default React.memo(VoterParameters);\n","import { mmLabels } from \"./constants\";\n\nconst electionParams = [\n  {\n    id: \"ballots\",\n    dataid: \"ballots\",\n    initialValue: 1000,\n  },\n  {\n    id: \"seatsOpen\",\n    dataid: \"seatsOpen\",\n    initialValue: 5,\n  },\n  {\n    id: `majCandidates`,\n    dataid: `majCandidates`,\n    initialValue: 6,\n  },\n  {\n    id: `minCandidates`,\n    dataid: `minCandidates`,\n    initialValue: 6,\n  },\n];\n\nconst electionInputs = [\n  {\n    id: \"ballots\",\n    dataid: \"ballots\",\n    type: \"number\",\n    step: 10,\n    min: 0,\n    max: 10000,\n    // fullWidth: true,\n    label: \"Ballots cast\",\n    helperText: \"Max 10,000\",\n    info: \"The number of voters in each election simulation\",\n  },\n  {\n    id: \"seatsOpen\",\n    dataid: \"seatsOpen\",\n    type: \"number\",\n    step: 1,\n    min: 0,\n    max: 20,\n    label: \"Seats open for election\",\n    helperText: \"Max 20\",\n    info: \"The number of open seats open for election in each simulation\",\n  },\n  {\n    id: `majCandidates`,\n    dataid: `majCandidates`,\n    type: \"number\",\n    step: 1,\n    min: 0,\n    max: 15,\n    helperText: \"Max 15\",\n    label: `${mmLabels.maj} candidates`,\n    info: `The number of ${mmLabels.maj} candidates running for election in each simulation`,\n  },\n  {\n    id: `minCandidates`,\n    dataid: `minCandidates`,\n    type: \"number\",\n    step: 1,\n    min: 0,\n    max: 15,\n    helperText: \"Max 15\",\n    label: `${mmLabels.min} candidates`,\n    info: `The number of ${mmLabels.min} candidates running for election in each simulation`,\n  },\n];\n\nfunction getSeats(formData) {\n  return parseInt(formData[\"seatsOpen\"]);\n}\n\nexport { electionParams, electionInputs, getSeats };\n","import React from \"react\";\nimport { Card, Row } from \"react-bootstrap\";\nimport ResetButton from \"./components/ResetButton\";\n\nimport GenericInput from \"./inputs/GenericInput\";\nimport { electionInputs } from \"./model/electionData\";\n\nfunction ElectionParameters({ formData, setFormData, resetData }) {\n  return (\n    <>\n      <div className=\"d-flex\">\n        <h1>Election Details</h1>\n        <ResetButton onClick={resetData} />\n      </div>\n      <Card className=\"parameter-container\">\n        <Row as={Card.Body} noGutters className=\"align-content-start\">\n          {electionInputs.map((param) => {\n            return (\n              <GenericInput\n                key={param.id}\n                param={param}\n                formData={formData}\n                setFormData={setFormData}\n              />\n            );\n          })}\n        </Row>\n      </Card>\n    </>\n  );\n}\n\nexport default React.memo(ElectionParameters);\n","import { mmLabels } from \"./constants\";\nimport _ from \"lodash\";\n\nconst ENSEMBLE_API_ENDPOINT = \"ensemble\";\n\nconst models = [\n  {\n    id: \"plackettLuce\",\n    dataid: \"plackettLuce\",\n    display: \"Plackett-Luce\",\n    apiEndpoint: \"plackettLuce\",\n  },\n  {\n    id: \"bradleyTerry\",\n    dataid: \"bradleyTerry\",\n    display: \"Bradley-Terry\",\n    apiEndpoint: \"bradleyTerry\",\n  },\n  {\n    id: \"alternatingCrossover\",\n    dataid: \"alternatingCrossover\",\n    display: \"Alternating Crossover\",\n    apiEndpoint: \"alternatingCrossover\",\n  },\n  {\n    id: \"cambridgeSampler\",\n    dataid: \"cambridgeSampler\",\n    display: \"Cambridge Sampler\",\n    apiEndpoint: \"cambridgeSampler\",\n  },\n];\n\nconst modelParams = [\n  ////////////////////////////////\n  // PlackettLuce & BradleyTerry\n  {\n    id: `majMajAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `majMajAffinity`,\n    initialValue: 0,\n  },\n  {\n    id: `majMinAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `majMinAffinity`,\n    initialValue: 0,\n  },\n  {\n    id: `minMinAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `minMinAffinity`,\n    initialValue: 0,\n  },\n  {\n    id: `minMajAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `minMajAffinity`,\n    initialValue: 0,\n  },\n  ////////////////////////////////////////////\n  // AlternatingCrossover & CambridgeSampler\n  {\n    id: `majMajCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `majMajCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `majMinCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `majMinCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `minMinCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `minMinCandidateAgreement`,\n    initialValue: 1,\n  },\n  {\n    id: `minMajCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `minMajCandidateAgreement`,\n    initialValue: 1,\n  },\n];\n\nconst modelInputs = [\n  ////////////////////////////\n  // PlackettLuce\n  {\n    id: `majMajAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `majMajAffinity`,\n    type: \"ticked-slider\",\n    fullWidth: true,\n    step: 0.5,\n    min: -1,\n    max: 1.0,\n    label: `Among ${mmLabels.maj} voters, support for ${mmLabels.maj} candidates is...`,\n    minLabel: \"Split evenly\",\n    maxLabel: \"Leaning towards one candidate\",\n  },\n  {\n    id: `majMinAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `majMinAffinity`,\n    type: \"ticked-slider\",\n    fullWidth: true,\n    step: 0.5,\n    min: -1,\n    max: 1,\n    label: `Among ${mmLabels.maj} voters, support for ${mmLabels.min} candidates is...`,\n    minLabel: \"Split evenly\",\n    maxLabel: \"Leaning towards one candidate\",\n  },\n  {\n    id: `minMinAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `minMinAffinity`,\n    type: \"ticked-slider\",\n    fullWidth: true,\n    step: 0.5,\n    min: -1,\n    max: 1,\n    label: `Among ${mmLabels.min} voters, support for ${mmLabels.min} candidates is...`,\n    minLabel: \"Split evenly\",\n    maxLabel: \"Leaning towards one candidate\",\n  },\n  {\n    id: `minMajAffinity`,\n    modelsUsed: [\"bradleyTerry\", \"plackettLuce\"],\n    dataid: `minMajAffinity`,\n    type: \"ticked-slider\",\n    fullWidth: true,\n    step: 0.5,\n    min: -1,\n    max: 1,\n    label: `Among ${mmLabels.min} voters, support for ${mmLabels.maj} candidates is...`,\n    minLabel: \"Split evenly\",\n    maxLabel: \"Leaning towards one candidate\",\n  },\n  ////////////////////////////\n  // AlternatingCrossover\n  {\n    id: `majMajCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `majMajCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.maj} voters, does everyone rank ${mmLabels.maj} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-majMajCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.maj} voters rank ${mmLabels.maj} candidates the same way`,\n      },\n      {\n        id: \"random-majMajCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.maj} voters rank ${mmLabels.maj} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `majMinCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `majMinCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.maj} voters, does everyone rank ${mmLabels.min} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-majMinCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.maj} voters rank ${mmLabels.min} candidates the same way`,\n      },\n      {\n        id: \"random-majMinCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.maj} voters rank ${mmLabels.min} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `minMajCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `minMajCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.min} voters, does everyone rank ${mmLabels.maj} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-minMajCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.min} voters rank ${mmLabels.maj} candidates the same way`,\n      },\n      {\n        id: \"random-minMajCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.min} voters rank ${mmLabels.maj} candidates randomly`,\n      },\n    ],\n  },\n  {\n    id: `minMinCandidateAgreement`,\n    modelsUsed: [\"alternatingCrossover\", \"cambridgeSampler\"],\n    dataid: `minMinCandidateAgreement`,\n    type: \"radio\",\n    label: `Among ${mmLabels.min} voters, does everyone rank ${mmLabels.min} candidates the same way?`,\n    options: [\n      {\n        id: \"uniform-minMinCandidateAgreement\",\n        value: 1,\n        label: `Yes, ${mmLabels.min} voters rank ${mmLabels.min} candidates the same way`,\n      },\n      {\n        id: \"random-minMinCandidateAgreement\",\n        value: 0,\n        label: `No, ${mmLabels.min} voters rank ${mmLabels.min} candidates randomly`,\n      },\n    ],\n  },\n];\n\n// Given a list of inputs, filter down to only those that have a given modelType\nfunction filterInputsByModelType(inputs, modelType) {\n  const modelDataid = getModelFromDisplay(modelType).dataid;\n  return inputs.filter((input) => {\n    return input.modelsUsed.includes(modelDataid);\n  });\n}\n\n// Given a formDataObject, filter down to inputs that have no modelType or have a given modelType\nfunction filterDataByModelTypes(formObject, modelType) {\n  if (!modelType) {\n    return formObject;\n  }\n  const modelDataid = getModelFromDisplay(modelType).dataid;\n  return _.pick(\n    formObject,\n    Object.keys(formObject).filter((key) => {\n      const keySplitFromType = key.split(\"-\");\n      const hasModelType = Boolean(keySplitFromType[1]);\n      // Get keys that either don't have a model type\n      //  or have a model type that matches this modelType\n      return (\n        !hasModelType || (hasModelType && keySplitFromType[1] === modelDataid)\n      );\n    })\n  );\n}\nfunction getModelFromDisplay(selectedModelDisplay) {\n  return models.find((model) => model.display === selectedModelDisplay);\n}\n\nfunction getApiEndpoint(selectedModel) {\n  return selectedModel\n    ? getModelFromDisplay(selectedModel).apiEndpoint\n    : ENSEMBLE_API_ENDPOINT;\n}\n\nexport {\n  models,\n  modelParams,\n  modelInputs,\n  filterInputsByModelType,\n  filterDataByModelTypes,\n  getApiEndpoint,\n};\n","import React from \"react\";\nimport { Nav, Card, Row } from \"react-bootstrap\";\n\nimport ResetButton from \"./components/ResetButton\";\nimport GenericInput from \"./inputs/GenericInput\";\nimport {\n  models,\n  modelInputs,\n  filterInputsByModelType,\n} from \"./model/rcvModelData\";\n\nfunction ModelParameters({\n  formData,\n  resetData,\n  selectedModel,\n  setFormData,\n  setSelectedModel,\n}) {\n  return (\n    <>\n      <div className=\"d-flex\">\n        <h1>Model Settings</h1>\n        <ResetButton onClick={resetData} />\n      </div>\n      <Card className=\"parameter-container\">\n        <Card.Header>\n          <Nav\n            variant=\"tabs\"\n            defaultActiveKey={selectedModel}\n            onSelect={(keyForEachModel) => {\n              setSelectedModel(keyForEachModel);\n            }}\n          >\n            {models.map((model) => (\n              <Nav.Item key={model.id}>\n                <Nav.Link eventKey={model.display}>{model.display}</Nav.Link>\n              </Nav.Item>\n            ))}\n          </Nav>\n        </Card.Header>\n        <Row as={Card.Body} noGutters className=\"align-content-start\">\n          {filterInputsByModelType(modelInputs, selectedModel).map((param) => (\n            <GenericInput\n              key={param.id}\n              param={param}\n              formData={formData}\n              setFormData={setFormData}\n            />\n          ))}\n        </Row>\n      </Card>\n    </>\n  );\n}\n\nexport default React.memo(ModelParameters);\n","import React from \"react\";\n\nfunction Spinner() {\n  return (\n    <div className=\"d-flex justify-content-center align-items-center w-100 h-100\">\n      <div\n        className=\"spinner-border\"\n        style={{ height: 75, width: 75, marginTop: -75 }}\n        role=\"status\"\n      >\n        <span className=\"sr-only\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n\nexport default Spinner;\n","import React from \"react\";\n\nfunction EmptyPlaceholder() {\n  return <p>Nothing to display here</p>;\n}\n\nexport default EmptyPlaceholder;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport { Table, Col, Row } from \"react-bootstrap\";\nimport { min, max, mean, modeFast, standardDeviation } from \"simple-statistics\";\n\nimport EmptyPlaceholder from \"./EmptyPlaceholder\";\n\nfunction KeyValueTable({ kv = {} }) {\n  return Object.keys(kv).length === 0 ? (\n    <EmptyPlaceholder />\n  ) : (\n    <Table striped borderless className=\"kv-table\">\n      <tbody>\n        {Object.entries(kv).map(([k, v]) => {\n          return (\n            <tr key={k}>\n              <td className=\"table-key\">{k}</td>\n              <td className=\"table-value\">{v}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n}\n\nfunction SimulationStatsTable({ data = [], maxSeats = 1 }) {\n  const stats = !_.isEmpty(data) && {\n    Min: min(data),\n    Max: max(data),\n    Mode: modeFast(data),\n    Mean: mean(data).toFixed(2),\n    \"Standard Deviation\": standardDeviation(data).toFixed(2),\n  };\n\n  const statsMarginalized = !_.isEmpty(stats) && {\n    Min: (stats.Min / maxSeats).toFixed(2),\n    Max: (stats.Max / maxSeats).toFixed(2),\n    Mode: (stats.Mode / maxSeats).toFixed(2),\n    Mean: (stats.Mean / maxSeats).toFixed(2),\n    \"Standard Deviation\": (stats[\"Standard Deviation\"] / maxSeats).toFixed(2),\n  };\n\n  const statsDisplay = !_.isEmpty(statsMarginalized) && {\n    Min: `${(statsMarginalized.Min * 100).toFixed(0)}% of seats (${\n      stats.Min\n    } / ${maxSeats})`,\n    Max: `${(statsMarginalized.Max * 100).toFixed(0)}% of seats (${\n      stats.Max\n    } / ${maxSeats})`,\n    Mode: `${(statsMarginalized.Mode * 100).toFixed(0)}% of seats (${\n      stats.Mode\n    } / ${maxSeats})`,\n    Mean: `${(statsMarginalized.Mean * 100).toFixed(0)}% of seats (${\n      stats.Mean\n    } / ${maxSeats})`,\n    \"Standard Deviation\": `${statsMarginalized[\"Standard Deviation\"] * 100}% (${\n      stats[\"Standard Deviation\"]\n    } / ${maxSeats})`,\n  };\n\n  return (\n    <Row className=\"m-0\">\n      <Col sm={12} className=\"pr-1 pl-1\">\n        <h5 className=\"stats-table-title\">\n          <span className=\"literal-title\">Statistics</span>\n        </h5>\n        <KeyValueTable kv={statsDisplay} />\n      </Col>\n    </Row>\n  );\n}\n\nexport default React.memo(SimulationStatsTable);\n","import React from \"react\";\nimport _ from \"lodash\";\nimport { mean } from \"simple-statistics\";\nimport {\n  VictoryAxis,\n  VictoryChart,\n  VictoryContainer,\n  VictoryHistogram,\n  VictoryLine,\n  VictoryLabel,\n  VictoryTooltip,\n} from \"victory\";\nimport { mmLabels } from \"../model/constants\";\nimport variables from \"../styles/_variables.scss\";\n\nfunction SimulationResultsHistogram({\n  displayMajResults,\n  maxSeats = 0,\n  selectedModel,\n  data,\n}) {\n  const chartData = (data || []).map((val) => ({ x: val }));\n\n  // The number of possible bins for our results\n  const bins = _.range(0, maxSeats + 2, 1);\n  // Color of the bar changes to reflect the demographic charted\n  const barColor = displayMajResults\n    ? variables[\"maj-color\"]\n    : variables[\"min-color\"];\n  //  Text-label for the demographic charted\n  const demographicVisualized = displayMajResults ? mmLabels.maj : mmLabels.min;\n  // Mean number of elections won\n  const meanCandidateElected = _.isEmpty(data) ? undefined : mean(data);\n\n  return (\n    <VictoryChart\n      style={{ parent: { fontSize: 12 } }}\n      containerComponent={\n        <VictoryContainer\n          className=\"pt-2 pb-4\"\n          style={{\n            height: 350,\n            maxWidth: 450,\n            margin: \"auto\",\n            maxHeight: \"600\",\n          }}\n        />\n      }\n    >\n      {/* Chart Title */}\n      <VictoryLabel\n        text={\n          _.isEmpty(data)\n            ? `No Data`\n            : `${demographicVisualized} Candidates Elected \\n Across ${data.length} ${selectedModel} Simulation(s) `\n        }\n        x={225}\n        y={18}\n        textAnchor=\"middle\"\n      />\n      {/* Display chartData */}\n      <VictoryHistogram\n        style={{ labels: { fill: \"black\" }, data: { fill: barColor } }}\n        cornerRadius={0}\n        data={chartData}\n        bins={bins}\n        labelComponent={<VictoryTooltip constrainToVisibleArea />}\n        labels={({ datum }) =>\n          `# Elections with ${\n            datum.x - 0.5\n          }\\n ${demographicVisualized} candidate(s) elected:\\n${datum.y}`\n        }\n      />\n      {/* Line for Mean Outcome */}\n      {meanCandidateElected >= 0 && (\n        <VictoryLine\n          style={{\n            data: { stroke: variables[\"primary-emph\"], strokeDasharray: \"5\" },\n          }}\n          x={() => meanCandidateElected + 0.01}\n        />\n      )}\n      {/* Y axis */}\n      <VictoryAxis\n        label={`Frequency of outcome`}\n        textAnchor=\"middle\"\n        axisLabelComponent={<VictoryLabel dy={-12} />}\n        dependentAxis\n      />\n      {/* X Axis */}\n      <VictoryAxis\n        label={`Number of ${demographicVisualized} candidates elected\\n (mean represented as dashed line)`}\n        tickLabelComponent={<VictoryLabel dy={-5} />}\n        tickValues={bins.slice(0, bins.length)}\n      />\n    </VictoryChart>\n  );\n}\n\nexport default SimulationResultsHistogram;\n","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport _ from \"lodash\";\nimport { mmLabels } from \"../model/constants\";\nimport SimulationStatsTable from \"./SimulationStatsTable\";\nimport SimulationResultsHistogram from \"./SimulationResultsHistogram\";\n\nclass SimulationVisualization extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      displayMajResults: false,\n    };\n  }\n\n  toggleMajResults = () => {\n    this.setState({\n      displayMajResults: !this.state.displayMajResults,\n    });\n  };\n\n  // Only re-render when the simulationResults are new or if the displayMajResults has changed\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      nextProps.simulationResults !== this.props.simulationResults ||\n      nextState.displayMajResults !== this.state.displayMajResults\n    );\n  }\n\n  render() {\n    const {\n      selectedModel = \"\",\n      simulationParams = {},\n      simulationResults = {},\n    } = this.props;\n    const pocElected = simulationResults.poc_elected_rcv;\n    const maxSeats = simulationResults.seats_open;\n    const relevantElected = this.state.displayMajResults\n      ? pocElected.map((pocWinners) => maxSeats - pocWinners)\n      : pocElected;\n    const switchWillVisualize = !this.state.displayMajResults\n      ? mmLabels.maj\n      : mmLabels.min;\n\n    return (\n      <>\n        {!_.isEmpty(simulationResults) && (\n          <Form.Check\n            type=\"switch\"\n            id=\"custom-switch\"\n            className=\"results-demographic-flip mt-0\"\n            value={this.state.displayMajResults}\n            onChange={this.toggleMajResults}\n            label={`View ${switchWillVisualize} results`}\n          />\n        )}\n        <SimulationResultsHistogram\n          maxSeats={maxSeats}\n          displayMajResults={this.state.displayMajResults}\n          data={relevantElected}\n          selectedModel={selectedModel}\n        />\n        <SimulationStatsTable\n          data={relevantElected}\n          maxSeats={maxSeats}\n          simulationParams={simulationParams}\n        />\n      </>\n    );\n  }\n}\n\nexport default SimulationVisualization;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Download } from \"react-feather\";\nimport { exportComponentAsPNG } from \"react-component-export-image\";\n\nfunction SaveButton({ refToSave }) {\n  return (\n    <div className=\"d-flex justify-content-between\">\n      <Button\n        onClick={() => {\n          exportComponentAsPNG(refToSave);\n        }}\n        className=\"d-flex justify-content-center align-items-center\"\n        size=\"sm\"\n      >\n        <Download size={16} className=\"mr-1\" />\n        Save\n      </Button>\n    </div>\n  );\n}\n\nexport default SaveButton;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Play } from \"react-feather\";\nfunction RunButton({ onClick }) {\n  return (\n    <Button\n      onClick={onClick}\n      className=\"d-flex ml-1 justify-content-center align-items-center\"\n      size=\"sm\"\n    >\n      <Play size={16} className=\"mr-1\" />\n      Run\n    </Button>\n  );\n}\n\nexport default RunButton;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Loader } from \"react-feather\";\n\nfunction LoadingButton() {\n  return (\n    <Button\n      className=\"d-flex ml-1 justify-content-center align-items-center\"\n      size=\"sm\"\n      disabled={true}\n    >\n      <Loader size={16} className=\"mr-1\" />\n      Loading...\n    </Button>\n  );\n}\n\nexport default LoadingButton;\n","import { useState, useEffect, useCallback } from \"react\";\n\n// Hook\nconst useAsync = (asyncFunction, immediate = true) => {\n  const [status, setStatus] = useState(\"idle\");\n  const [value, setValue] = useState(null);\n  const [error, setError] = useState(null);\n\n  // The execute function wraps asyncFunction and\n  // handles setting state for pending, value, and error.\n  // useCallback ensures the below useEffect is not called\n  // on every render, but only if asyncFunction changes.\n  const execute = useCallback(() => {\n    setStatus(\"pending\");\n    setValue(null);\n    setError(null);\n\n    return asyncFunction()\n      .then((response) => {\n        setValue(response);\n        setStatus(\"success\");\n      })\n      .catch((error) => {\n        setError(error);\n        setStatus(\"error\");\n      });\n  }, [asyncFunction]);\n\n  // Call execute if we want to fire it right away.\n  // Otherwise execute can be called later, such as\n  // in an onClick handler.\n  useEffect(() => {\n    if (immediate) {\n      execute();\n    }\n  }, [execute, immediate]);\n\n  return { execute, status, value, error };\n};\n\nexport default useAsync;\n","import React, { useRef } from \"react\";\nimport qs from \"qs\";\nimport axios from \"axios\";\nimport { Card, Row } from \"react-bootstrap\";\nimport Spinner from \"./components/Spinner\";\nimport SimulationVisualization from \"./components/SimulationVisualization\";\nimport SaveButton from \"./components/SaveButton\";\nimport RunButton from \"./components/RunButton\";\nimport LoadingButton from \"./components/LoadingButton\";\nimport useAsync from \"./hooks/useAsync\";\nimport GenericInput from \"./inputs/GenericInput\";\nimport { getApiEndpoint, filterDataByModelTypes } from \"./model/rcvModelData\";\n\nfunction SimulationInformation({\n  combineFormData,\n  formData,\n  formInputs,\n  setFormData,\n  selectedModel,\n}) {\n  // Get the API Endpoint for the selected model\n  const selectedModelEndpoint = getApiEndpoint(selectedModel);\n  // Build the API URL\n  const apiURL =\n    process.env.REACT_APP_API_BASEURL +\n    process.env.REACT_APP_API_SLUG +\n    selectedModelEndpoint;\n\n  // Get relevant params, and define the function that gets simulation results\n  const relevantParams = filterDataByModelTypes(\n    combineFormData(),\n    selectedModel ? selectedModel : undefined\n  );\n\n  const fetchData = async () => {\n    const response = await axios.get(apiURL, {\n      // Filter all the query params by the selectedModel\n      params: relevantParams,\n      paramsSerializer: (params) => {\n        return qs.stringify(params, { arrayFormat: \"repeat\" });\n      },\n    });\n    return response.data;\n  };\n\n  // Store the results of simulations in state, as well as request status/error\n  const { execute, status, value, error } = useAsync(fetchData, false);\n\n  // Create a ref to the SimulationInformation\n  const simulationVisualizationRef = useRef();\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-between\">\n        <h1>Simulations</h1>\n      </div>\n      <Card className=\"parameter-container\">\n        <Card.Body>\n          {/* First div: the inputs in the form of a row, and the button to trigger sims */}\n          <Row noGutters className=\"align-content-start\">\n            {formInputs.map((param) => {\n              return (\n                <GenericInput\n                  key={param.id}\n                  param={param}\n                  formData={formData}\n                  setFormData={setFormData}\n                />\n              );\n            })}\n          </Row>\n          <div>\n            {/* Second div: the results of the current simulation */}\n            <div className=\"d-flex justify-content-between\">\n              <h4>Election Results</h4>\n              {/* Download and save buttons */}\n              <div className=\"d-flex\">\n                {status === \"success\" && (\n                  <SaveButton refToSave={simulationVisualizationRef} />\n                )}\n                {status !== \"pending\" ? (\n                  <RunButton onClick={execute} />\n                ) : (\n                  <LoadingButton />\n                )}\n              </div>\n            </div>\n            {/* Results of the simulation */}\n            {/* When errors are present, log them to the console */}\n            {status === \"error\" && (\n              <p>\n                There was an error processing those simulations.\n                {console.error(error)}\n              </p>\n            )}\n            {/* While loading, display a spinner */}\n            {status === \"pending\" && (\n              <div className=\"d-flex flex-column w-100\">\n                <div style={{ height: \"300px\" }}>\n                  <Spinner />\n                </div>\n              </div>\n            )}\n            {/* Show an empty viz when no simulations have been triggered or completed  */}\n            {status === \"idle\" && <SimulationVisualization />}\n            {/* Display the results of the simulation when completed */}\n            {status === \"success\" && (\n              <SimulationVisualization\n                ref={simulationVisualizationRef}\n                simulationResults={value}\n                simulationParams={relevantParams}\n                selectedModel={selectedModel}\n              />\n            )}\n          </div>\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n\nexport default React.memo(SimulationInformation);\n","const simulationParams = [\n  {\n    id: \"numElectionsEachSimulation\",\n    dataid: \"numElectionsEachSimulation\",\n    initialValue: 1,\n  },\n];\n\nconst simulationInputs = [\n  {\n    id: \"numElectionsEachSimulation\",\n    dataid: \"numElectionsEachSimulation\",\n    type: \"number\",\n    min: 1,\n    max: 15,\n    fullWidth: true,\n    padding: false,\n    label: \"Elections to Simulate\",\n    helperText: \"Max 15\",\n    info: \"The number of elections to simulate with these parameters\",\n  },\n];\n\nexport { simulationParams, simulationInputs };\n","import _ from \"lodash\";\nimport { useState } from \"react\";\n\n// Hook\nfunction useLocalStorage(stateObjectName, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by stateObjectName\n      const storedState = window.localStorage.getItem(stateObjectName);\n      // Return initialValue if this is new to localStorage\n      if (_.isNull(storedState)) {\n        return initialValue;\n      }\n      // If the keys on the storedState match the current one, use the storedState;\n      // else, clear it and use the current state\n      const parsedStoredState = JSON.parse(storedState);\n      const validStateObjectKeys = Object.keys(initialValue);\n      const storedStateKeys = Object.keys(parsedStoredState);\n      if (_.isEqual(storedStateKeys, validStateObjectKeys)) {\n        return parsedStoredState;\n      }\n      window.localStorage.removeItem(stateObjectName);\n      return initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(\n        stateObjectName,\n        JSON.stringify(valueToStore)\n      );\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport VoterParameters from \"../VoterParameters\";\nimport ElectionParameters from \"../ElectionParameters\";\nimport ModelParameters from \"../ModelParameters\";\nimport SimulationInformation from \"../SimulationInformation\";\nimport { electionParams, getSeats } from \"../model/electionData\";\nimport { voterParams } from \"../model/voterData\";\nimport { simulationParams, simulationInputs } from \"../model/simulationData\";\nimport { models, modelParams } from \"../model/rcvModelData\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nfunction SimulationPage() {\n  // Set the initial ElectionState\n  const initialElectionState = electionParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [electionState, setElectionState] = useLocalStorage(\n    \"electionState\",\n    initialElectionState\n  );\n  // Set the initial VoterState\n  const initialVoterState = voterParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [voterState, setVoterState] = useLocalStorage(\n    \"voterState\",\n    initialVoterState\n  );\n  // Set the initial ModelState\n  const initialModelState = modelParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [modelState, setModelState] = useLocalStorage(\n    \"modelState\",\n    initialModelState\n  );\n  // Set the initial Simulation\n  const initialSimulationState = simulationParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [simulationState, setSimulationState] = useLocalStorage(\n    \"simulationState\",\n    initialSimulationState\n  );\n\n  // Store the currently selected model\n  const [selectedModel, setSelectedModel] = useLocalStorage(\n    \"selectedModel\",\n    models[0].display\n  );\n  // Combine separate input states\n  const combineFormData = () => {\n    return {\n      ...electionState,\n      ...voterState,\n      ...modelState,\n      ...simulationState,\n    };\n  };\n\n  const getSeatsFromState = () => {\n    return getSeats(electionState);\n  };\n\n  return (\n    <Container fluid>\n      <Row>\n        <Col md={7} className=\"pb-2 d-flex flex-column\">\n          <ElectionParameters\n            formData={electionState}\n            setFormData={setElectionState}\n            resetData={() => setElectionState(initialElectionState)}\n          />\n          <VoterParameters\n            formData={voterState}\n            setFormData={setVoterState}\n            resetData={() => setVoterState(initialVoterState)}\n          />\n          <ModelParameters\n            models={models}\n            selectedModel={selectedModel}\n            setSelectedModel={setSelectedModel}\n            formData={modelState}\n            setFormData={setModelState}\n            resetData={() => setModelState(initialModelState)}\n          />\n        </Col>\n        <Col md={5} className=\"pb-2 d-flex flex-column\">\n          <SimulationInformation\n            combineFormData={combineFormData}\n            formData={simulationState}\n            formInputs={simulationInputs}\n            getSeats={getSeatsFromState}\n            setFormData={setSimulationState}\n            selectedModel={selectedModel}\n          />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SimulationPage;\n","const modelTypeEnum = Object.freeze({\n  pl: 0,\n  bt: 1,\n  ac: 2,\n  cs: 3,\n});\n\nconst simulationParams = [\n  {\n    id: \"numElectionsEachSimulation\",\n    dataid: \"numElectionsEachSimulation\",\n    initialValue: 1,\n  },\n  {\n    id: \"modelsToSimulate\",\n    dataid: \"modelsToSimulate\",\n    initialValue: Object.values(modelTypeEnum),\n  },\n];\n\nconst simulationInputs = [\n  {\n    id: \"numElectionsEachSimulation\",\n    dataid: \"numElectionsEachSimulation\",\n    type: \"number\",\n    min: 1,\n    max: 15,\n    // padding: false,\n    label: \"Elections to Simulate\",\n    helperText: \"Max 15\",\n    info: \"The number of elections to simulate with these parameters\",\n  },\n  {\n    id: \"modelsToSimulate\",\n    dataid: \"modelsToSimulate\",\n    // padding: false,\n    type: \"checkbox\",\n    label: `RCV Models to Use`,\n    updateTransform: (newValue, id, formData) => {\n      // Need to convert incoming value to int\n      const intValue = parseInt(newValue);\n      const prevValues = formData[id];\n      // If this value was already checked, remove it\n      if (prevValues.includes(intValue)) {\n        return prevValues.filter((item) => item !== intValue);\n      }\n      // Else, add it to the list of checked values\n      prevValues.push(intValue);\n      return prevValues;\n    },\n    options: [\n      {\n        id: \"pl\",\n        value: modelTypeEnum[\"pl\"],\n        label: `Plackett-Luce`,\n      },\n      {\n        id: \"bt\",\n        value: modelTypeEnum[\"bt\"],\n        label: `Bradley-Terry`,\n      },\n      {\n        id: \"ac\",\n        value: modelTypeEnum[\"ac\"],\n        label: `Alternating Crossover`,\n      },\n      {\n        id: \"cs\",\n        value: modelTypeEnum[\"cs\"],\n        label: `Cambridge Sampler`,\n      },\n    ],\n  },\n];\n\nexport { simulationParams, simulationInputs };\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nfunction AboutPage() {\n  return (\n    <Container>\n      {/* <Row style={{ height: \"max\" }}> */}\n      <h1 className=\"text-center\">About This Project</h1>\n      <div>\n        <h3>Modelling voting behavior</h3>\n        <p>\n          Voting is an incredibly complex process, and any attempt to model it\n          is bound to oversimplify the way people vote, especially in ranked\n          elections, where a voter has so many more ways to make their voice\n          heard. With this in mind, this app uses multiple models of ranking,\n          some classical and some new. They all take the same basic input.\n        </p>\n        <h3>Basic inputs to the models</h3>\n        <p>\n          All the models take some basic inputs, namely the support from each\n          group for each class of candidate (minority- or majority-preferred),\n          which should be numbers between 0 and 1. These values can be estimated\n          by analyzing single-winner elections, inferred from survey results, or\n          set to hypothetical values. Each model interprets these support values\n          slightly differently, as detailed below.\n        </p>\n        <h3>How the model works: Plackett-Luce</h3>\n        <p>\n          The Plackett-Luce model is a classical model of statistical ranking\n          which has already been applied to study ranked choice voting in\n          Ireland [1]. Let's suppose the support for Candidate A from a voting\n          group is twice the support for Candidate B. Under the Plackett-Luce\n          model, we take this to mean that a voter is twice as likely to put\n          Candidate A first as to put Candidate B first. In fact, the model\n          assumes that this trend goes <em>all the way down the ballot</em>.\n          That is, if a voter has not ranked either A or B yet on their ballot,\n          then they are still twice as likely to write down Candidate A's name\n          than Candidate B when they get to the next rank. See [2] for\n          mathematical details. It is unrealistic to expect the support for each\n          class of candidates to be completely uniform, so to divide up the\n          total support among candidates of a given class, we sample from a\n          symmetric Dirichlet distribution. The Dirichlet distribution has one\n          parameter (called concentration) which can be used to choose between\n          mostly even division of support (concentration &gt;&gt; 1), and\n          support concentrated on just a few candidates (concentration &lt;&lt;\n          1). The default concentration value of 1.0 makes every division of the\n          support equally likely, roughly speaking. We therefore refer to this\n          parameter as\n          <em>evenness of support</em> in the Model input tab.\n        </p>\n        <h3>How the model works: Bradley-Terry</h3>\n        <p>\n          The paired comparison model is based on the idea that what matters in\n          a ranking is who is preferred over whom. Suppose the support by a\n          voting group for Candidate A is <em>a</em> and the support for\n          Candidate B is <em> b</em>. This the model sets the probability that a\n          voter in the group ranks Candidate A above Candidate B at{\" \"}\n          <em>a/(a+b)</em>. The probability of a full ranking is just the\n          product of the probabilities associated with the order of each pair of\n          candidates, with a normalizing constant so that everything sums to\n          one. See [2] for mathematical details. As with the Plackett-Luce\n          model, we use a Dirichlet sampler to divide up the support among the\n          candidates.\n        </p>\n        <h3>How the model works: Alternating crossover</h3>\n        <p>\n          This model posits that there are two kinds of voters in each group:\n          block voters and crossover voters. Block voters always vote for\n          ingroup candidates first and then outgroup candidates. Crossover\n          voters alternate between the two classes of candidates, starting with\n          an outgroup candidate (hence the name). This only tells you the type\n          of candidate at each position in a ballot, however, so further choices\n          are necessary to determine the exact order. For each group of voters\n          and group of candidates, we allow two choices: random ordering by each\n          voter, or consistent ordering by each voter. This model has been used\n          in previous analyses of ranked voting by the MGGG at Tufts University\n          (see [3,4] below).\n        </p>\n        <h3>How the model works: Cambridge sampler</h3>\n        <p>\n          Each voter's first choice under this model is the same as under\n          alternating crossover, i.e. an ingroup candidate for block voters and\n          an outgroup candidate for crossover voters. However, instead of\n          allowing only a block ballot or alternating ballot, the types of\n          candidates in the rest of the ballot are determined by sampling from\n          the ballots in a decade's worth of Cambridge MA ranked choice city\n          council elections. Once the type of candidate (ingroup or outgroup) at\n          each rank has been chosen, random ordering or consistent ordering is\n          applied to fill in the ballot with candidate names just as with the\n          alternating crossover model.\n        </p>\n        <h3>References</h3>\n        [1] Gormley, I.S, and Murphy, T.B.{\" \"}\n        <em>\n          Exploring voting blocs within the Irish electorate: A mixture modeling\n          approach.\n        </em>{\" \"}\n        Journal of the American Statistical Association 103.483 (2008):\n        1014-1027.\n        <br />\n        [2] Critchlow, D.E., Fligner, M.A. and Verducci, J.S., 1991.{\" \"}\n        <em>Probability models on rankings</em>. Journal of mathematical\n        psychology, 35(3), pp.294-318.\n        <br />\n        [3] MGGG, <em>Election Reform in Lowell MA, </em>{\" \"}\n        <a href=\"https://mggg.org/lowell\">https://mggg.org/lowell</a>\n        <br />\n        [4] MGGG,{\" \"}\n        <em>\n          Analysis of county commission elections in Yakima County WA,{\" \"}\n        </em>{\" \"}\n        <a href=\"https://mggg.org/uploads/yakima.pdf\">\n          https://mggg.org/uploads/yakima.pdf\n        </a>\n      </div>\n    </Container>\n  );\n}\n\nexport default AboutPage;\n","import SimulationPage from \"./SimulationPage\";\nimport SimulationPageTwo from \"./SimulationPageTwo\";\nimport AboutPage from \"./AboutPage\";\n\n// Config file serving as a single point of truth for all application routes\nconst routes = [\n  {\n    path: `/about`,\n    display: \"About\",\n    component: AboutPage,\n  },\n  {\n    path: `/ensemble`,\n    display: \"Ensemble\",\n    component: SimulationPageTwo,\n  },\n  {\n    path: `/`,\n    isHome: \"true\",\n    display: \"Home\",\n    component: SimulationPage,\n  },\n];\n\nfunction getHomePath(routes) {\n  return routes.find((route) => route.isHome).path;\n}\n\nexport { routes, getHomePath };\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport VoterParameters from \"../VoterParameters\";\nimport ElectionParameters from \"../ElectionParameters\";\nimport SimulationInformation from \"../SimulationInformation\";\nimport { electionParams, getSeats } from \"../model/electionData\";\nimport { voterParams } from \"../model/voterData\";\nimport {\n  simulationParams,\n  simulationInputs,\n} from \"../model/simulationEnsembleData\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nfunction SimulationPage() {\n  // Set the initial ElectionState\n  const initialElectionState = electionParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [electionState, setElectionState] = useLocalStorage(\n    \"electionState\",\n    initialElectionState\n  );\n  // Set the initial VoterState\n  const initialVoterState = voterParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [voterState, setVoterState] = useLocalStorage(\n    \"voterState\",\n    initialVoterState\n  );\n  // Set the initial Simulation\n  const initialSimulationState = simulationParams.reduce((accum, p) => {\n    accum[p.dataid] = p.initialValue;\n    return accum;\n  }, {});\n  const [simulationState, setSimulationState] = useLocalStorage(\n    \"simulationState\",\n    initialSimulationState\n  );\n\n  // Combine separate input states\n  const combineFormData = () => {\n    return {\n      ...electionState,\n      ...voterState,\n      ...simulationState,\n    };\n  };\n\n  const getSeatsFromState = () => {\n    return getSeats(electionState);\n  };\n\n  return (\n    <Container fluid>\n      <Row>\n        <Col md={7} className=\"pb-2 d-flex flex-column\">\n          <ElectionParameters\n            formData={electionState}\n            setFormData={setElectionState}\n            resetData={() => setElectionState(initialElectionState)}\n          />\n          <VoterParameters\n            formData={voterState}\n            setFormData={setVoterState}\n            resetData={() => setVoterState(initialVoterState)}\n          />\n        </Col>\n        <Col md={5} className=\"pb-2 d-flex flex-column\">\n          <SimulationInformation\n            combineFormData={combineFormData}\n            formData={simulationState}\n            formInputs={simulationInputs}\n            getSeats={getSeatsFromState}\n            setFormData={setSimulationState}\n          />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SimulationPage;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar, Nav } from \"react-bootstrap\";\nimport { getHomePath } from \"./pages/routes.js\";\n\nfunction AppHeader(props) {\n  return (\n    <Navbar className=\"nav-header\" variant=\"dark\" expand=\"md\">\n      <Navbar.Brand as={Link} to={getHomePath(props.routes)}>\n        Modeling Representation <br className=\"d-xs-block d-sm-none\" /> with\n        Ranked Choice Voting\n      </Navbar.Brand>\n      <Navbar.Toggle />\n      <Navbar.Collapse className=\"justify-content-end\">\n        <Nav className=\"justify-content-end\">\n          {props.routes.reverse().map((route, i) => (\n            <Nav.Item className=\"text-right\" key={route.display}>\n              <Nav.Link as={Link} to={route.path} key={i} href={route.path}>\n                {route.display}\n              </Nav.Link>\n            </Nav.Item>\n          ))}\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n\nexport default AppHeader;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport AppHeader from \"./AppHeader\";\nimport { routes } from \"./pages/routes\";\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <AppHeader routes={routes} />\n      <Switch>\n        {routes.map((route, i) => (\n          <Route path={route.path} key={i}>\n            <route.component />\n          </Route>\n        ))}\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#c08c33\",\"maj-color\":\"#4b9460\",\"min-color\":\"#4b3f72\",\"primary-emph\":\"#dcb97d\"};"],"sourceRoot":""}